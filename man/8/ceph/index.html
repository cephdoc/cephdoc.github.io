
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ceph – Ceph 管理工具 &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <link rel="up" title="对象存储手册页" href="../../../rados/man/" />
    <link rel="next" title="ceph-deploy – Ceph 部署工具" href="../ceph-deploy/" />
    <link rel="prev" title="ceph-disk – Ceph 的硬盘管理工具" href="../ceph-disk/" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-deploy/" title="ceph-deploy – Ceph 部署工具"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ceph-disk/" title="ceph-disk – Ceph 的硬盘管理工具"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../../rados/" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../../../rados/man/" accesskey="U">对象存储手册页</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ceph-ceph">
<h1>ceph &#8211; Ceph 管理工具<a class="headerlink" href="#ceph-ceph" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>提纲<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>auth</strong> [ <em>add</em> | <em>caps</em> | <em>del</em> | <em>export</em> | <em>get</em> | <em>get-key</em> | <em>get-or-create</em> | <em>get-or-create-key</em> | <em>import</em> | <em>list</em> | <em>print-key</em> | <em>print_key</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>compact</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>config-key</strong> [ <em>del</em> | <em>exists</em> | <em>get</em> | <em>list</em> | <em>put</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>daemon</strong> <em>&lt;name&gt;</em> | <em>&lt;path&gt;</em> <em>&lt;command&gt;</em> ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>daemonperf</strong> <em>&lt;name&gt;</em> | <em>&lt;path&gt;</em> [ <em>interval</em> [ <em>count</em> ] ]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>df</strong> <em>{detail}</em></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>fs</strong> [ <em>ls</em> | <em>new</em> | <em>reset</em> | <em>rm</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>fsid</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>health</strong> <em>{detail}</em></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>heap</strong> [ <em>dump</em> | <em>start_profiler</em> | <em>stop_profiler</em> | <em>release</em> | <em>stats</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>injectargs</strong> <em>&lt;injectedargs&gt;</em> [ <em>&lt;injectedargs&gt;</em>... ]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>log</strong> <em>&lt;logtext&gt;</em> [ <em>&lt;logtext&gt;</em>... ]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>mds</strong> [ <em>add_data_pool</em> | <em>cluster_down</em> | <em>cluster_up</em> | <em>compat</em> | <em>deactivate</em> | <em>dump</em> | <em>fail</em> | <em>getmap</em> | <em>newfs</em> | <em>remove_data_pool</em> | <em>rm</em> | <em>rmfailed</em> | <em>set</em> | <em>set_max_mds</em> | <em>set_state</em> | <em>setmap</em> | <em>stat</em> | <em>stop</em> | <em>tell</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>mon</strong> [ <em>add</em> | <em>dump</em> | <em>getmap</em> | <em>remove</em> | <em>stat</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>mon_status</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> [ <em>blacklist</em> | <em>blocked-by</em> | <em>create</em> | <em>deep-scrub</em> | <em>df</em> | <em>down</em> | <em>dump</em> | <em>erasure-code-profile</em> | <em>find</em> | <em>getcrushmap</em> | <em>getmap</em> | <em>getmaxosd</em> | <em>in</em> | <em>lspools</em> | <em>map</em> | <em>metadata</em> | <em>out</em> | <em>pause</em> | <em>perf</em> | <em>pg-temp</em> | <em>primary-affinity</em> | <em>primary-temp</em> | <em>repair</em> | <em>reweight</em> | <em>reweight-by-pg</em> | <em>rm</em> | <em>scrub</em> | <em>set</em> | <em>setcrushmap</em> | <em>setmaxosd</em>  | <em>stat</em> | <em>thrash</em> | <em>tree</em> | <em>unpause</em> | <em>unset</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> <strong>crush</strong> [ <em>add</em> | <em>add-bucket</em> | <em>create-or-move</em> | <em>dump</em> | <em>get-tunable</em> | <em>link</em> | <em>move</em> | <em>remove</em> | <em>rename-bucket</em> | <em>reweight</em> | <em>reweight-all</em> | <em>reweight-subtree</em> | <em>rm</em> | <em>rule</em> | <em>set</em> | <em>set-tunable</em> | <em>show-tunables</em> | <em>tunables</em> | <em>unlink</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> <strong>pool</strong> [ <em>create</em> | <em>delete</em> | <em>get</em> | <em>get-quota</em> | <em>ls</em> | <em>mksnap</em> | <em>rename</em> | <em>rmsnap</em> | <em>set</em> | <em>set-quota</em> | <em>stats</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> <strong>tier</strong> [ <em>add</em> | <em>add-cache</em> | <em>cache-mode</em> | <em>remove</em> | <em>remove-overlay</em> | <em>set-overlay</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>pg</strong> [ <em>debug</em> | <em>deep-scrub</em> | <em>dump</em> | <em>dump_json</em> | <em>dump_pools_json</em> | <em>dump_stuck</em> | <em>force_create_pg</em> | <em>getmap</em> | <em>ls</em> | <em>ls-by-osd</em> | <em>ls-by-pool</em> | <em>ls-by-primary</em> | <em>map</em> | <em>repair</em> | <em>scrub</em> | <em>set_full_ratio</em> | <em>set_nearfull_ratio</em> | <em>stat</em> ] ...</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>quorum</strong> [ <em>enter</em> | <em>exit</em> ]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>quorum_status</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>report</strong> { <em>&lt;tags&gt;</em> [ <em>&lt;tags&gt;...</em> ] }</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>scrub</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>status</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>sync</strong> <strong>force</strong> {&#8211;yes-i-really-mean-it} {&#8211;i-know-what-i-am-doing}</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>tell</strong> <em>&lt;name (type.id)&gt; &lt;args&gt; [&lt;args&gt;...]</em></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>version</strong></div>
</div>
</div>
<div class="section" id="id2">
<h2>描述<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">ceph</strong> 是个控制工具，可用于手动部署和维护 Ceph 集群。它提供的多种工具可用于部署监视器、 OSD 、归置组、 MDS 和维护、管理整个集群。</p>
</div>
<div class="section" id="id3">
<h2>命令<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="auth">
<h3>auth<a class="headerlink" href="#auth" title="Permalink to this headline">¶</a></h3>
<p>管理认证密钥。用于给某个具体实体（如监视器或 OSD ）增加、删除、导出或更新认证密钥。还需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">add</span></tt> 用于为特定实体增加认证信息，这些信息可从文件读入，若未在命令行指定密钥（和、或此密钥的能力）将生成随机密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth add &lt;entity&gt; {&lt;caps&gt; [&lt;caps&gt;...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">caps</span></tt> 把 <strong>name</strong> 的能力更新为命令行中指定的。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth caps &lt;entity&gt; &lt;caps&gt; [&lt;caps&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">del</span></tt> 删除 <tt class="docutils literal"><span class="pre">name</span></tt> 的所有能力。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth del &lt;entity&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">export</span></tt> 把指定实体写入密钥环，若未指定则写入主密钥环。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth export {&lt;entity&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get</span></tt> 把请求到的密钥写入密钥环文件。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth get &lt;entity&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get-key</span></tt> 显示所请求的密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth get-key &lt;entity&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get-or-create</span></tt> 用于为特定实体增加认证信息，这些信息可从文件读入，若未在命令行指定密钥（和、或此密钥的能力）将生成随机密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth get-or-create &lt;entity&gt; {&lt;caps&gt; [&lt;caps&gt;...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get-or-create-key</span></tt> 根据命令行指定的系统、能力对，为 <tt class="docutils literal"><span class="pre">name</span></tt> 获取或创建密钥。若密钥已存在，任何指定的能力必须与当前已有能力一致。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth get-or-create-key &lt;entity&gt; {&lt;caps&gt; [&lt;caps&gt;...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">import</span></tt> 从输入文件读入密钥环。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth import</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">list</span></tt> 罗列认证状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth list</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">print-key</span></tt> 显示请求的密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth print-key &lt;entity&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">print_key</span></tt> 显示请求的密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph auth print_key &lt;entity&gt;</pre>
</div>
</div>
<div class="section" id="compact">
<h3>compact<a class="headerlink" href="#compact" title="Permalink to this headline">¶</a></h3>
<p>让监视器压缩其 leveldb 存储。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph compact</pre>
</div>
</div>
<div class="section" id="config-key">
<h3>config-key<a class="headerlink" href="#config-key" title="Permalink to this headline">¶</a></h3>
<p>管理配置密钥。需额外指定子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">del</span></tt> 用于删除配置密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph config-key del &lt;key&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">exists</span></tt> 用于检查配置密钥是否存在。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph config-key exists &lt;key&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get</span></tt> 用于获取配置密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph config-key get &lt;key&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">list</span></tt> 罗列配置密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph config-key list</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">put</span></tt> 上传配置密钥及其内容。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph config-key put &lt;key&gt; {&lt;val&gt;}</pre>
</div>
</div>
<div class="section" id="df">
<h3>df<a class="headerlink" href="#df" title="Permalink to this headline">¶</a></h3>
<p>显示集群空闲空间状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph df {detail}</pre>
</div>
</div>
<div class="section" id="fs">
<h3>fs<a class="headerlink" href="#fs" title="Permalink to this headline">¶</a></h3>
<p>用于管理 cephfs 文件系统，需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">ls</span></tt> 用于罗列文件系统。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph fs ls</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">new</span></tt> 用指定的存储池 &lt;metadata&gt; 和 &lt;data&gt; 创建新文件系统。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph fs new &lt;fs_name&gt; &lt;metadata&gt; &lt;data&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">reset</span></tt> 仅适用于灾难恢复：重置成单 MDS 运行图。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph fs reset &lt;fs_name&gt; {--yes-i-really-mean-it}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm</span></tt> 用于禁用指定文件系统。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph fs rm &lt;fs_name&gt; {--yes-i-really-mean-it}</pre>
</div>
</div>
<div class="section" id="fsid">
<h3>fsid<a class="headerlink" href="#fsid" title="Permalink to this headline">¶</a></h3>
<p>显示集群的 FSID/UUID 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph fsid</pre>
</div>
</div>
<div class="section" id="health">
<h3>health<a class="headerlink" href="#health" title="Permalink to this headline">¶</a></h3>
<p>显示集群健康状况。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph health {detail}</pre>
</div>
</div>
<div class="section" id="heap">
<h3>heap<a class="headerlink" href="#heap" title="Permalink to this headline">¶</a></h3>
<p>显示堆栈使用信息（编译时启用了 tcmalloc 支持才可用）</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph heap dump|start_profiler|stop_profiler|release|stats</pre>
</div>
</div>
<div class="section" id="injectargs">
<h3>injectargs<a class="headerlink" href="#injectargs" title="Permalink to this headline">¶</a></h3>
<p>向监视器注入配置参数。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph injectargs &lt;injected_args&gt; [&lt;injected_args&gt;...]</pre>
</div>
</div>
<div class="section" id="log">
<h3>log<a class="headerlink" href="#log" title="Permalink to this headline">¶</a></h3>
<p>把指定文本记录到监视器日志中。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph log &lt;logtext&gt; [&lt;logtext&gt;...]</pre>
</div>
</div>
<div class="section" id="mds">
<h3>mds<a class="headerlink" href="#mds" title="Permalink to this headline">¶</a></h3>
<p>用于元数据服务器的配置和管理，需额外指定子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">add_data_pool</span></tt> 用于增加数据存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds add_data_pool &lt;pool&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">cluster_down</span></tt> 关闭 mds 集群。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds cluster_down</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">cluster_up</span></tt> 启动 mds 集群。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds cluster_up</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">compat</span></tt> 管理兼容功能，需额外指定子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">rm_compat</span></tt> 可删除兼容功能。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds compat rm_compat &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm_incompat</span></tt> 可删除不兼容的功能。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds compat rm_incompat &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">show</span></tt> 可查看 mds 的兼容性选项。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds compat show</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">deactivate</span></tt> 可停止 mds 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds deactivate &lt;who&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump</span></tt> 用于转储信息， epoch 号为可选。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds dump {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">fail</span></tt> 强制把 mds 状态设置为失效。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds fail &lt;who&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">getmap</span></tt> 获取 MDS 图， epoch 号可选。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds getmap {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">newfs</span></tt> 可用 &lt;metadata&gt; 和 &lt;data&gt; 存储池新建文件系统。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds newfs &lt;int[0-]&gt; &lt;int[0-]&gt; {--yes-i-really-mean-it}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">remove_data_pool</span></tt> 用于删除数据存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds remove_data_pool &lt;pool&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm</span></tt> 用于删除不活跃的 mds 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds rm &lt;int[0-]&gt; &lt;name&gt; (type.id)&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rmfailed</span></tt> 用于删除失效的 mds 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds rmfailed &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set</span></tt> 用于设置参数，把 &lt;var&gt; 的值设置为 &lt;val&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds set max_mds|max_file_size|allow_new_snaps|inline_data &lt;va&gt; {&lt;confirm&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set_max_mds</span></tt> 用于设置 MDS 的最大索引号。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds set_max_mds &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set_state</span></tt> 把 mds 状态从 &lt;gid&gt; 改为 &lt;numeric-state&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds set_state &lt;int[0-]&gt; &lt;int[0-20]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">setmap</span></tt> 设置 mds 图，必须提供正确的 epoch 号。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds setmap &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">stat</span></tt> 显示 MDS 状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds stat</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">stop</span></tt> 停止指定 mds 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds stop &lt;who&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">tell</span></tt> 用于向某个 mds 发送命令。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mds tell &lt;who&gt; &lt;args&gt; [&lt;args&gt;...]</pre>
</div>
</div>
<div class="section" id="mon">
<h3>mon<a class="headerlink" href="#mon" title="Permalink to this headline">¶</a></h3>
<p>用于监视器的配置和管理，需额外指定子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">add</span></tt> 新增名为 &lt;name&gt; 的监视器，地址为 &lt;addr&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mon add &lt;name&gt; &lt;IPaddr[:port]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump</span></tt> 转储格式化的 monmap ， epoch 号可选。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mon dump {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">getmap</span></tt> 用于获取 monmap 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mon getmap {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">remove</span></tt> 用于删除名为 &lt;name&gt; 的监视器。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mon remove &lt;name&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">stat</span></tt> 汇总监视器状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mon stat</pre>
</div>
</div>
<div class="section" id="mon-status">
<h3>mon_status<a class="headerlink" href="#mon-status" title="Permalink to this headline">¶</a></h3>
<p>报告监视器状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph mon_status</pre>
</div>
</div>
<div class="section" id="osd">
<h3>osd<a class="headerlink" href="#osd" title="Permalink to this headline">¶</a></h3>
<p>用于配置和管理 OSD ，需额外指定子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">blacklist</span></tt> 用于管理客户端黑名单，需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">add</span></tt> 用于把 &lt;addr&gt; 加入黑名单（可指定时间，从现在起 &lt;expire&gt; 秒）。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd blacklist add &lt;EntityAddr&gt; {&lt;float[0.0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls</span></tt> 列出进黑名单的客户端。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd blacklist ls</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm</span></tt> 从黑名单里删除 &lt;addr&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd blacklist rm &lt;EntityAddr&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">blocked-by</span></tt> 用于罗列哪些 OSD 在阻塞互联。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd blocked-by</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">create</span></tt> 用于新建 OSD ， UUID 和 ID 是可选的。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd create {&lt;uuid&gt;} {&lt;id&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">crush</span></tt> 用于 CRUSH 管理，需额外指定子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">add</span></tt> 可用于新增或更新 &lt;name&gt; 的 crushmap 位置及权重，权重改为 &lt;weight&gt; 、位置为 &lt;args&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush add &lt;osdname (id|osd.id)&gt; &lt;float[0.0-]&gt; &lt;args&gt; [&lt;args&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">add-bucket</span></tt> 可新增没有父级（可能是 root ）、类型为 &lt;type&gt; 、名为 &lt;name&gt; 的 crush 桶。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush add-bucket &lt;name&gt; &lt;type&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">create-or-move</span></tt> 用于创建名为 &lt;name&gt; 、权重为 &lt;weight&gt; 的条目并放置到 &lt;args&gt; ，若已存在则移动到指定位置 &lt;args&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush create-or-move &lt;osdname (id|osd.id)&gt; &lt;float[0.0-]&gt;
&lt;args&gt; [&lt;args&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump</span></tt> 用于转储 crush 图。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush dump</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get-tunable</span></tt> 用于获取 CRUSH 可调值 straw_calc_version 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush get-tunable straw_calc_version</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">link</span></tt> 用于把已存在条目 &lt;name&gt; 链接到 &lt;args&gt; 位置下。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush link &lt;name&gt; &lt;args&gt; [&lt;args&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">move</span></tt> 可把已有条目 &lt;name&gt; 移动到 &lt;args&gt; 位置。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush move &lt;name&gt; &lt;args&gt; [&lt;args&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">remove</span></tt> 把 crush 图中（任意位置，或 &lt;ancestor&gt; 之下的）的 &lt;name&gt; 删掉。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush remove &lt;name&gt; {&lt;ancestor&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rename-bucket</span></tt> 可把桶 &lt;srcname&gt; 重命名为 &lt;dstname&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rename-bucket &lt;srcname&gt; &lt;dstname&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">reweight</span></tt> 把 crush 图中 &lt;name&gt; 的权重改为 &lt;weight&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush reweight &lt;name&gt; &lt;float[0.0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">reweight-all</span></tt> 重新计算树的权重，以确保权重之和没算错。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush reweight-all</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">reweight-subtree</span></tt> 用于把 CRUSH 图内 &lt;name&gt; 之下的所有叶子条目的权重改为 &lt;weight&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush reweight-subtree &lt;name&gt; &lt;weight&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm</span></tt> 把 crush 图中（任意位置，或 &lt;ancestor&gt; 之下的）的 &lt;name&gt; 删掉。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rm &lt;name&gt; {&lt;ancestor&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rule</span></tt> 用于创建 crush 规则，需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">create-erasure</span></tt> 可为纠删码存储池（用 &lt;profile&gt; 创建的））创建名为 &lt;name&gt; 的 crush 规则，默认为 default 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rule create-erasure &lt;name&gt; {&lt;profile&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">create-simple</span></tt> 创建从 &lt;root&gt; 开始、名为 &lt;name&gt; 的 crush 规则，副本将跨 &lt;type&gt; 类型进行散布，选择模式为 &lt;firstn|indep&gt; （默认 firstn ，indep 更适合纠删码存储池）。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rule create-simple &lt;name&gt; &lt;root&gt; &lt;type&gt; {firstn|indep}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump</span></tt> 转储名为 &lt;name&gt; 的 crush 规则，默认全部转储。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rule dump {&lt;name&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">list</span></tt> 罗列 crush 规则。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rule list</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls</span></tt> 罗列 crush 规则。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rule ls</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm</span></tt> 删除 crush 规则 &lt;name&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush rule rm &lt;name&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set</span></tt> 单独使用，把输入文件设置为 crush 图。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush set</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set</span></tt> 为 osdname 或 osd.id 更新 crush 图的位置和权重信息，把名为 &lt;name&gt; 的 OSD 权重设置为 &lt;weight&gt; 、位置设置为 &lt;args&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush set &lt;osdname (id|osd.id)&gt; &lt;float[0.0-]&gt; &lt;args&gt; [&lt;args&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set-tunable</span></tt> 把可调值 &lt;tunable&gt; 设置为 &lt;value&gt; 。唯一能设置的可调值是 straw_calc_version 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush set-tunable straw_calc_version &lt;value&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">show-tunables</span></tt> 显示当前的 crush 可调值。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush show-tunables</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">tree</span></tt> 用树状视图显示各 crush 桶、及各条目。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush tree</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">tunables</span></tt> 设置 &lt;profile&gt; 中的 crush 可调值。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush tunables legacy|argonaut|bobtail|firefly|hammer|optimal|default</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">unlink</span></tt> 从 crush 图中解链接出 &lt;name&gt; （任意位置，或 &lt;ancestor&gt; 之下的）。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd crush unlink &lt;name&gt; {&lt;ancestor&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">df</span></tt> 用于显示 OSD 利用率。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd df {plain|tree}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">deep-scrub</span></tt> 可启动指定 OSD 的深度洗刷。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd deep-scrub &lt;who&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">down</span></tt> 把 osd(s) &lt;id&gt; [&lt;id&gt;...] 状态设置为 down 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd down &lt;ids&gt; [&lt;ids&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump</span></tt> 打印 OSD 图汇总。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd dump {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">erasure-code-profile</span></tt> 用于管理纠删码配置，需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">get</span></tt> 读取纠删码配置 &lt;name&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd erasure-code-profile get &lt;name&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls</span></tt> 罗列所有纠删码配置。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd erasure-code-profile ls</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm</span></tt> 删除纠删码配置 &lt;name&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd erasure-code-profile rm &lt;name&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set</span></tt> 用给定的参数 [&lt;key[=value]&gt; ...] 创建纠删码配置 &lt;name&gt; 。末尾加 &#8211;force 可覆盖已有配置（慎用）。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd erasure-code-profile set &lt;name&gt; {&lt;profile&gt; [&lt;profile&gt;...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">find</span></tt> 从 CRUSH 图中找到 osd &lt;id&gt; 并显示其位置。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd find &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">getcrushmap</span></tt> 获取 CRUSH 图。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd getcrushmap {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">getmap</span></tt> 获取 OSD 图。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd getmap {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">getmaxosd</span></tt> 显示最大 OSD 惟一标识符。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd getmaxosd</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">in</span></tt> 把给出的 OSD &lt;id&gt; [&lt;id&gt;...] 标识为 in 状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd in &lt;ids&gt; [&lt;ids&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">lost</span></tt> 把 OSD 标识为永久丢失。如果没有多个副本，此命令会导致数据丢失，慎用。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd lost &lt;int[0-]&gt; {--yes-i-really-mean-it}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls</span></tt> 显示所有 OSD 的惟一标识符。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd ls {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">lspools</span></tt> 罗列存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd lspools {&lt;int&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">map</span></tt> 在 &lt;pool&gt; 存储池中找 &lt;object&gt; 对象所在的归置组号码。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd map &lt;poolname&gt; &lt;objectname&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">metadata</span></tt> 为 osd &lt;id&gt; 取出元数据。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd metadata {int[0-]} (default all)</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">out</span></tt> 把指定 OSD &lt;id&gt; [&lt;id&gt;...] 的状态设置为 out 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd out &lt;ids&gt; [&lt;ids&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">pause</span></tt> 暂停 osd 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pause</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">perf</span></tt> 打印 OSD 的性能统计摘要。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd perf</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">pg-temp</span></tt> 设置 pg_temp 映射 pgid:[&lt;id&gt; [&lt;id&gt;...]] ，适用于开发者。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pg-temp &lt;pgid&gt; {&lt;id&gt; [&lt;id&gt;...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">pool</span></tt> 用于管理数据存储池，需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">create</span></tt> 创建存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool create &lt;poolname&gt; &lt;int[0-]&gt; {&lt;int[0-]&gt;} {replicated|erasure}
{&lt;erasure_code_profile&gt;} {&lt;ruleset&gt;} {&lt;int&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">delete</span></tt> 删除存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool delete &lt;poolname&gt; {&lt;poolname&gt;} {--yes-i-really-really-mean-it}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get</span></tt> 获取存储池参数 &lt;var&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool get &lt;poolname&gt; size|min_size|crash_replay_interval|pg_num|
pgp_num|crush_ruleset|auid|write_fadvise_dontneed</pre>
</div>
<p>以下命令只适用于分层存储池：</p>
<div class="highlight-python"><pre>ceph osd pool get &lt;poolname&gt; hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|
target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|
cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|
min_read_recency_for_promote|hit_set_grade_decay_rate|hit_set_search_last_n</pre>
</div>
<p>以下命令只适用于纠删码存储池：</p>
<div class="highlight-python"><pre>ceph osd pool get &lt;poolname&gt; erasure_code_profile</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">get-quota</span></tt> 获取存储池的对象或字节数限额。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool get-quota &lt;poolname&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls</span></tt> 用于罗列存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool ls {detail}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">mksnap</span></tt> 拍下存储池 &lt;pool&gt; 的快照 &lt;snap&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool mksnap &lt;poolname&gt; &lt;snap&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rename</span></tt> 把存储池 &lt;srcpool&gt; 重命名为 &lt;destpool&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool rename &lt;poolname&gt; &lt;poolname&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rmsnap</span></tt> 删除存储池 &lt;pool&gt; 的快照 &lt;snap&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool rmsnap &lt;poolname&gt; &lt;snap&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set</span></tt> 把存储池参数 &lt;var&gt; 的值设置为 &lt;val&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool set &lt;poolname&gt; size|min_size|crash_replay_interval|pg_num|
pgp_num|crush_ruleset|hashpspool|nodelete|nopgchange|nosizechange|
hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|debug_fake_ec_pool|
target_max_bytes|target_max_objects|cache_target_dirty_ratio|
cache_target_dirty_high_ratio|
cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|auid|
min_read_recency_for_promote|write_fadvise_dontneed|hit_set_grade_decay_rate|
hit_set_search_last_n
&lt;val&gt; {--yes-i-really-mean-it}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set-quota</span></tt> 设置存储池的对象或字节数限额。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool set-quota &lt;poolname&gt; max_objects|max_bytes &lt;val&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">stats</span></tt> 获取所有或指定存储池的统计信息。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd pool stats {&lt;name&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">primary-affinity</span></tt> 设置主 OSD 亲和性，有效值范围 0.0 &lt;= &lt;weight&gt; &lt;= 1.0</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd primary-affinity &lt;osdname (id|osd.id)&gt; &lt;float[0.0-1.0]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">primary-temp</span></tt> 设置 primary_temp 映射 pgid:&lt;id&gt;|-1 ，适用于开发者。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd primary-temp &lt;pgid&gt; &lt;id&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">repair</span></tt> 让指定 OSD 开始修复。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd repair &lt;who&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">reweight</span></tt> 把 OSD 权重改为 0.0 &lt; &lt;weight&gt; &lt; 1.0 之间的值。</p>
<p>用法：</p>
<div class="highlight-python"><pre>osd reweight &lt;int[0-]&gt; &lt;float[0.0-1.0]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">reweight-by-pg</span></tt> 按归置组分布情况调整 OSD 的权重（考虑的过载百分比，默认 120 ）。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd reweight-by-pg {&lt;int[100-]&gt;} {&lt;poolname&gt; [&lt;poolname...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">reweight-by-utilization</span></tt> 按利用率调整 OSD 的权重，还需考虑负载比率，默认 120 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd reweight-by-utilization {&lt;int[100-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">rm</span></tt> 删除集群中的 OSD ，其编号为 &lt;id&gt; [&lt;id&gt;...] 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd rm &lt;ids&gt; [&lt;ids&gt;...]</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">scrub</span></tt> 让指定 OSD 开始洗刷。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd scrub &lt;who&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set</span></tt> 设置关键字 &lt;key&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd set full|pause|noup|nodown|noout|noin|nobackfill|
norebalance|norecover|noscrub|nodeep-scrub|notieragent</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">setcrushmap</span></tt> 把输入文件设置为 CRUSH 图。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd setcrushmap</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">setmaxosd</span></tt> 设置最大 OSD 数值。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd setmaxosd &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">stat</span></tt> 打印 OSD 图摘要。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd stat</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">thrash</span></tt> 把 OSD 元版本回滚到 &lt;num_epochs&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd thrash &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">tier</span></tt> 用于管理（存储池）分级，需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">add</span></tt> 把 &lt;tierpool&gt; （第二个）加到基础存储池 &lt;pool&gt; （第一个）之前。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd tier add &lt;poolname&gt; &lt;poolname&gt; {--force-nonempty}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">add-cache</span></tt> 把尺寸为 &lt;size&gt; 的缓存存储池 &lt;tierpool&gt; （第二个）加到现有存储池 &lt;pool&gt; （第一个）之前。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd tier add-cache &lt;poolname&gt; &lt;poolname&gt; &lt;int[0-]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">cache-mode</span></tt> 设置缓存存储池 &lt;pool&gt; 的缓存模式。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd tier cache-mode &lt;poolname&gt; none|writeback|forward|readonly|
readforward|readproxy</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">remove</span></tt> 删掉基础存储池 &lt;pool&gt; （第一个）的马甲存储池 &lt;tierpool&gt; （第二个）。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd tier remove &lt;poolname&gt; &lt;poolname&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">remove-overlay</span></tt> 删除基础存储池 &lt;pool&gt; 的马甲存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd tier remove-overlay &lt;poolname&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set-overlay</span></tt> 把 &lt;overlaypool&gt; 设置为基础存储池 &lt;pool&gt; 的马甲存储池。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd tier set-overlay &lt;poolname&gt; &lt;poolname&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">tree</span></tt> 打印 OSD 树。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd tree {&lt;int[0-]&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">unpause</span></tt> 取消 osd 暂停。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd unpause</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">unset</span></tt> 取消设置的关键字 &lt;key&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph osd unset full|pause|noup|nodown|noout|noin|nobackfill|
norebalance|norecover|noscrub|nodeep-scrub|notieragent</pre>
</div>
</div>
<div class="section" id="pg">
<h3>pg<a class="headerlink" href="#pg" title="Permalink to this headline">¶</a></h3>
<p>用于管理 OSD 内的归置组，需额外加子命令。</p>
<p>子命令 <tt class="docutils literal"><span class="pre">debug</span></tt> 可显示归置组的调试信息。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg debug unfound_objects_exist|degraded_pgs_exist</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">deep-scrub</span></tt> 开始深度洗刷归置组 &lt;pgid&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg deep-scrub &lt;pgid&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump</span></tt> 可显示归置组图的人类可读版本（显示为纯文本时只有 &#8216;all&#8217; 合法）。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg dump {all|summary|sum|delta|pools|osds|pgs|pgs_brief} [{all|summary|sum|delta|pools|osds|pgs|pgs_brief...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump_json</span></tt> 只以 json 格式显示归置组图的人类可读版本。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg dump_json {all|summary|sum|delta|pools|osds|pgs|pgs_brief} [{all|summary|sum|delta|pools|osds|pgs|pgs_brief...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump_pools_json</span></tt> 只以 json 格式显示归置组存储池信息［译者：存疑］。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg dump_pools_json</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">dump_stuck</span></tt> 显示卡顿归置组的信息。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg dump_stuck {inactive|unclean|stale|undersized|degraded [inactive|unclean|stale|undersized|degraded...]}
{&lt;int&gt;}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">force_create_pg</span></tt> 强制创建归置组 &lt;pgid&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg force_create_pg &lt;pgid&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">getmap</span></tt> 获取二进制归置组图，保存到 -o/stdout 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg getmap</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls</span></tt> 可根据指定存储池、 OSD 、状态罗列对应的归置组。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg ls {&lt;int&gt;} {active|clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale| remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized [active|clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale|remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls-by-osd</span></tt> 用于罗列指定 OSD 上的归置组。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg ls-by-osd &lt;osdname (id|osd.id)&gt; {&lt;int&gt;}
{active|clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale| remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized [active|clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale|remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls-by-pool</span></tt> 用于罗列存储池 [poolname | poolid] 内的归置组。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg ls-by-pool &lt;poolstr&gt; {&lt;int&gt;} {active|
clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale| remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized [active|clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale|remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">ls-by-primary</span></tt> 可罗列主 OSD 为 [osd] 的归置组。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg ls-by-primary &lt;osdname (id|osd.id)&gt; {&lt;int&gt;}
{active|clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale| remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized [active|clean|down|replay|splitting|
scrubbing|scrubq|degraded|inconsistent|peering|repair|
recovery|backfill_wait|incomplete|stale|remapped|
deep_scrub|backfill|backfill_toofull|recovery_wait|
undersized...]}</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">map</span></tt> 显示归置组到 OSD 的映射关系。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg map &lt;pgid&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">repair</span></tt> 开始修复归置组 &lt;pgid&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg repair &lt;pgid&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">scrub</span></tt> 开始洗刷归置组 &lt;pgid&gt; 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg scrub &lt;pgid&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set_full_ratio</span></tt> 设置认为归置组占满的比率。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg set_full_ratio &lt;float[0.0-1.0]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">set_nearfull_ratio</span></tt> 设置认为归置组将要占满的比率。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg set_nearfull_ratio &lt;float[0.0-1.0]&gt;</pre>
</div>
<p>子命令 <tt class="docutils literal"><span class="pre">stat</span></tt> 显示归置组状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph pg stat</pre>
</div>
</div>
<div class="section" id="quorum">
<h3>quorum<a class="headerlink" href="#quorum" title="Permalink to this headline">¶</a></h3>
<p>进入或退出法定人数。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph quorum enter|exit</pre>
</div>
</div>
<div class="section" id="quorum-status">
<h3>quorum_status<a class="headerlink" href="#quorum-status" title="Permalink to this headline">¶</a></h3>
<p>报告监视器法定人数状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph quorum_status</pre>
</div>
</div>
<div class="section" id="report">
<h3>report<a class="headerlink" href="#report" title="Permalink to this headline">¶</a></h3>
<p>报告集群的全部状态，标签字符串可选。
Reports full status of cluster, optional title tag strings.</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph report {&lt;tags&gt; [&lt;tags&gt;...]}</pre>
</div>
</div>
<div class="section" id="scrub">
<h3>scrub<a class="headerlink" href="#scrub" title="Permalink to this headline">¶</a></h3>
<p>洗刷监视器的存储。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph scrub</pre>
</div>
</div>
<div class="section" id="status">
<h3>status<a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h3>
<p>显示集群状态。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph status</pre>
</div>
</div>
<div class="section" id="sync-force">
<h3>sync force<a class="headerlink" href="#sync-force" title="Permalink to this headline">¶</a></h3>
<p>强制监视器进行同步、并清除存储。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph sync force {--yes-i-really-mean-it} {--i-know-what-i-am-doing}</pre>
</div>
</div>
<div class="section" id="tell">
<h3>tell<a class="headerlink" href="#tell" title="Permalink to this headline">¶</a></h3>
<p>发命令给指定守护进程。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph tell &lt;name (type.id)&gt; &lt;args&gt; [&lt;args&gt;...]</pre>
</div>
</div>
<div class="section" id="version">
<h3>version<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<p>显示监视器守护进程的版本。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph version</pre>
</div>
</div>
</div>
<div class="section" id="id4">
<h2>选项<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-ceph-i">
<tt class="descname">-i</tt><tt class="descclassname"> infile</tt><a class="headerlink" href="#cmdoption-ceph-i" title="Permalink to this definition">¶</a></dt>
<dd><p>指定一个输入文件，它将作为载荷与命令一起传递给监视器集群。仅用于某些特定的监视器命令。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-o">
<tt class="descname">-o</tt><tt class="descclassname"> outfile</tt><a class="headerlink" href="#cmdoption-ceph-o" title="Permalink to this definition">¶</a></dt>
<dd><p>把响应中监视器集群返回的载荷写入 outfile 文件。只有某些特定的监视器命令（如 psd getmap ）会返回载荷。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-c">
<tt class="descname">-c</tt><tt class="descclassname"> ceph.conf</tt><tt class="descclassname">, </tt><tt class="descname">--conf</tt><tt class="descclassname">=ceph.conf</tt><a class="headerlink" href="#cmdoption-ceph-c" title="Permalink to this definition">¶</a></dt>
<dd><p>用 ceph.conf 配置文件而非默认的 <tt class="docutils literal"><span class="pre">/etc/ceph/ceph.conf</span></tt> 来确定启动时所用的监视器地址。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--id">
<tt class="descname">--id</tt><tt class="descclassname"> CLIENT_ID</tt><tt class="descclassname">, </tt><tt class="descname">--user</tt><tt class="descclassname"> CLIENT_ID</tt><a class="headerlink" href="#cmdoption-ceph--id" title="Permalink to this definition">¶</a></dt>
<dd><p>用于认证的客户端 ID 。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--name">
<tt class="descname">--name</tt><tt class="descclassname"> CLIENT_NAME</tt><tt class="descclassname">, </tt><tt class="descname">-n</tt><tt class="descclassname"> CLIENT_NAME</tt><a class="headerlink" href="#cmdoption-ceph--name" title="Permalink to this definition">¶</a></dt>
<dd><p>用于认证的客户端名字。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--cluster">
<tt class="descname">--cluster</tt><tt class="descclassname"> CLUSTER</tt><a class="headerlink" href="#cmdoption-ceph--cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Ceph 集群名字。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--admin-socket">
<tt class="descname">--admin-socket</tt><tt class="descclassname"> ADMIN_SOCKET</tt><tt class="descclassname">, </tt><tt class="descname">--admin-socket</tt><tt class="descclassname"> DAEMON_NAME</tt><a class="headerlink" href="#cmdoption-ceph--admin-socket" title="Permalink to this definition">¶</a></dt>
<dd><p>提交管理套接字命令。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--admin-socket">
<tt class="descname">--admin-socket</tt><tt class="descclassname"> ADMIN_SOCKET_NOPE</tt><a class="headerlink" href="#cmdoption-ceph--admin-socket" title="Permalink to this definition">¶</a></dt>
<dd><p>你也许想要的是 &#8211;admin-daemon 。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-s">
<tt class="descname">-s</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--status</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-s" title="Permalink to this definition">¶</a></dt>
<dd><p>显示集群状态。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-w">
<tt class="descname">-w</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--watch</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-w" title="Permalink to this definition">¶</a></dt>
<dd><p>盯着集群的实时状态变更。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--watch-debug">
<tt class="descname">--watch-debug</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--watch-debug" title="Permalink to this definition">¶</a></dt>
<dd><p>盯着调试事件。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--watch-info">
<tt class="descname">--watch-info</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--watch-info" title="Permalink to this definition">¶</a></dt>
<dd><p>盯着一般信息事件。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--watch-sec">
<tt class="descname">--watch-sec</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--watch-sec" title="Permalink to this definition">¶</a></dt>
<dd><p>盯着安全事件。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--watch-warn">
<tt class="descname">--watch-warn</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--watch-warn" title="Permalink to this definition">¶</a></dt>
<dd><p>盯着告警事件。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--watch-error">
<tt class="descname">--watch-error</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--watch-error" title="Permalink to this definition">¶</a></dt>
<dd><p>盯着错误事件。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--version">
<tt class="descname">--version</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">-v</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--version" title="Permalink to this definition">¶</a></dt>
<dd><p>显示版本号。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--verbose">
<tt class="descname">--verbose</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>使输出更详细。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--concise">
<tt class="descname">--concise</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph--concise" title="Permalink to this definition">¶</a></dt>
<dd><p>使输出简洁些。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-f">
<tt class="descname">-f</tt><tt class="descclassname"> {json,json-pretty,xml,xml-pretty,plain}</tt><tt class="descclassname">, </tt><tt class="descname">--format</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-f" title="Permalink to this definition">¶</a></dt>
<dd><p>输出格式。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph--connect-timeout">
<tt class="descname">--connect-timeout</tt><tt class="descclassname"> CLUSTER_TIMEOUT</tt><a class="headerlink" href="#cmdoption-ceph--connect-timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>设置连接集群的超时值。</p>
</dd></dl>

</div>
<div class="section" id="id5">
<h2>使用范围<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">ceph</strong> 是 Ceph 的一部分，这是个伸缩力强、开源、分布式的存储系统，更多信息参见 <a class="reference external" href="http://ceph.com/docs">http://ceph.com/docs</a> 。</p>
</div>
<div class="section" id="id6">
<h2>参考<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../ceph-mon/"><em>ceph-mon</em></a>(8),
<a class="reference internal" href="../ceph-osd/"><em>ceph-osd</em></a>(8),
<a class="reference internal" href="../ceph-mds/"><em>ceph-mds</em></a>(8)</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装（手动）</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../rados/">Ceph 存储集群</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../rados/configuration/">配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/deployment/">部署</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/operations/">运维</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../rados/man/">手册页</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ceph-disk/">ceph-disk &#8211; Ceph 的硬盘管理工具</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">ceph &#8211; Ceph 管理工具</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">提纲</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">描述</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">命令</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#auth">auth</a></li>
<li class="toctree-l5"><a class="reference internal" href="#compact">compact</a></li>
<li class="toctree-l5"><a class="reference internal" href="#config-key">config-key</a></li>
<li class="toctree-l5"><a class="reference internal" href="#df">df</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fs">fs</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fsid">fsid</a></li>
<li class="toctree-l5"><a class="reference internal" href="#health">health</a></li>
<li class="toctree-l5"><a class="reference internal" href="#heap">heap</a></li>
<li class="toctree-l5"><a class="reference internal" href="#injectargs">injectargs</a></li>
<li class="toctree-l5"><a class="reference internal" href="#log">log</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mds">mds</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mon">mon</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mon-status">mon_status</a></li>
<li class="toctree-l5"><a class="reference internal" href="#osd">osd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pg">pg</a></li>
<li class="toctree-l5"><a class="reference internal" href="#quorum">quorum</a></li>
<li class="toctree-l5"><a class="reference internal" href="#quorum-status">quorum_status</a></li>
<li class="toctree-l5"><a class="reference internal" href="#report">report</a></li>
<li class="toctree-l5"><a class="reference internal" href="#scrub">scrub</a></li>
<li class="toctree-l5"><a class="reference internal" href="#status">status</a></li>
<li class="toctree-l5"><a class="reference internal" href="#sync-force">sync force</a></li>
<li class="toctree-l5"><a class="reference internal" href="#tell">tell</a></li>
<li class="toctree-l5"><a class="reference internal" href="#version">version</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id4">选项</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">使用范围</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-deploy/">ceph-deploy &#8211; Ceph 部署工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-rest-api/">ceph-rest-api &#8211; ceph 的 REST 风格管理服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-authtool/">ceph-authtool &#8211; ceph 密钥环操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-clsinfo/">ceph-clsinfo &#8211; 查看类对象信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-conf/">ceph-conf &#8211; ceph 配置文件工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-debugpack/">ceph-debugpack &#8211; ceph 调试信息打包工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-dencoder/">ceph-dencoder &#8211; ceph 编码器/解码器工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-mon/">ceph-mon &#8211; ceph 监视器守护进程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-osd/">ceph-osd &#8211; ceph 对象存储守护进程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-run/">ceph-run &#8211; 发生核心转储后重启守护进程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-syn/">ceph-syn &#8211; ceph 的人造负载生成器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crushtool/">crushtool &#8211; CRUSH 图操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../librados-config/">librados-config &#8211; 显示关于 librados 的信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monmaptool/">monmaptool &#8211; ceph 监视器运行图操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../osdmaptool/">osdmaptool &#8211; ceph osd 运行图操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rados/">rados &#8211; rados 对象存储工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-post-file/">ceph-post-file &#8211; 把文件上传给 ceph 开发者</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/troubleshooting/">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph 版本</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-deploy/" title="ceph-deploy – Ceph 部署工具"
             >next</a> |</li>
        <li class="right" >
          <a href="../ceph-disk/" title="ceph-disk – Ceph 的硬盘管理工具"
             >previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../../rados/" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../../../rados/man/" >对象存储手册页</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ceph-deploy – Ceph 部署工具 &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <link rel="up" title="对象存储手册页" href="../../../rados/man/" />
    <link rel="next" title="ceph-rest-api – ceph 的 REST 风格管理服务器" href="../ceph-rest-api/" />
    <link rel="prev" title="ceph – Ceph 管理工具" href="../ceph/" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-rest-api/" title="ceph-rest-api – ceph 的 REST 风格管理服务器"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ceph/" title="ceph – Ceph 管理工具"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../../rados/" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../../../rados/man/" accesskey="U">对象存储手册页</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ceph-deploy-ceph">
<h1>ceph-deploy &#8211; Ceph 部署工具<a class="headerlink" href="#ceph-deploy-ceph" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>提纲<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>new</strong> [<em>initial-monitor-node(s)</em>]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>install</strong> [<em>ceph-node</em>] [<em>ceph-node</em>...]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>mon</strong> <em>create-initial</em></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>osd</strong> <em>prepare</em> [<em>ceph-node</em>]:[<em>dir-path</em>]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>osd</strong> <em>activate</em> [<em>ceph-node</em>]:[<em>dir-path</em>]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>osd</strong> <em>create</em> [<em>ceph-node</em>]:[<em>dir-path</em>]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>admin</strong> [<em>admin-node</em>][<em>ceph-node</em>...]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>purgedata</strong> [<em>ceph-node</em>][<em>ceph-node</em>...]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph-deploy</strong> <strong>forgetkeys</strong></div>
</div>
</div>
<div class="section" id="id2">
<h2>描述<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">ceph-deploy</strong> 工具可用于简单、快速地部署 Ceph 集群，而无需涉及繁杂的手动配置。它在管理节点上通过 ssh 获取其它 Ceph 节点的访问权、通过 sudo 获取其上的管理权限、通过底层 Python 脚本自动化各节点上的 Ceph 安装进程。它简单到可以运行在工作站上，不需要服务器、数据库或任何其它的自动化工具。 有了 <strong class="program">ceph-deploy</strong> ，安装和拆除集群非常简单。然而它不是通用部署工具，是专为想快速安装、运行 Ceph 的人们设计的专用工具，这样的集群只包含必要的的初始配置选项，就没必要安装像 <tt class="docutils literal"><span class="pre">Chef</span></tt> 、 <tt class="docutils literal"><span class="pre">Puppet</span></tt> 或 <tt class="docutils literal"><span class="pre">Juju</span></tt> 这样的部署工具。如果你想定制安全选项、分区或目录位置，并按照详细的手动步骤设置集群，应该选用其它工具，即 <tt class="docutils literal"><span class="pre">Chef</span></tt> 、 <tt class="docutils literal"><span class="pre">Puppet</span></tt> 、 <tt class="docutils literal"><span class="pre">Juju</span></tt> 或 <tt class="docutils literal"><span class="pre">Crowbar</span></tt> 。</p>
<p>用 <strong class="program">ceph-deploy</strong> 工具可以在远程节点上安装 Ceph 软件包、创建集群、增加监视器、收集或忘记密钥、增加 OSD 和元数据服务器、配置管理主机或拆除集群。</p>
</div>
<div class="section" id="id3">
<h2>命令<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new">
<h3>new<a class="headerlink" href="#new" title="Permalink to this headline">¶</a></h3>
<p>开始部署新集群，并写好配置文件和密钥环。它会尝试把管理节点上的 SSH 密钥复制到监视器节点以获得无密码访问权限，验证主机 IP ，新建一或多个监视器节点以组成监视器法定人数，生成新 Ceph 集群所需的配置文件、监视器密钥环和日志文件。然后把新建的集群 <tt class="docutils literal"><span class="pre">fsid</span></tt> 、主机名和初始监视器成员的 IP 地址组装成 Ceph 配置文件。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy new [MON][MON...]</pre>
</div>
<p>这里的 [MON] 是初始监视器主机名（短主机名，即 <tt class="docutils literal"><span class="pre">hostname</span> <span class="pre">-s</span></tt> ）。</p>
<p>此命令还可加这些选项： <a class="reference internal" href="#cmdoption-ceph-deploy--no-ssh-copykey"><em class="xref std std-option">--no-ssh-copykey</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--fsid"><em class="xref std std-option">--fsid</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--cluster-network"><em class="xref std std-option">--cluster-network</em></a> 和 <a class="reference internal" href="#cmdoption-ceph-deploy--public-network"><em class="xref std std-option">--public-network</em></a> 。</p>
<p>如果使用了多个网卡，那么必须在 Ceph 配置文件的 <tt class="docutils literal"><span class="pre">[global]</span></tt> 段下加 <tt class="docutils literal"><span class="pre">public</span> <span class="pre">network</span></tt> 选项。指定公共网子网后， <tt class="docutils literal"><span class="pre">new</span></tt> 命令将选用在此子网范围内的远程主机 IP 。公共网也可以在运行时用 <a class="reference internal" href="#cmdoption-ceph-deploy--public-network"><em class="xref std std-option">--public-network</em></a> 选项加给前述命令。</p>
</div>
<div class="section" id="install">
<h3>install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h3>
<p>在远程主机上安装 Ceph 软件包。首先，它会用无密码 ssh 和 sudo 在管理节点和其它节点上安装 <tt class="docutils literal"><span class="pre">yum-plugin-priorities</span></tt> ，这样来自上流软件库的 Ceph 软件包就可获得较高优先级。之后，它会探测这些主机的平台和发行版，并且，在软件库准备充分时安装兼容此发行版的软件包。加 <tt class="docutils literal"><span class="pre">--release</span></tt> 选项后它会安装最新版。在安装前的平台和发行版探测中，如果发现 <tt class="docutils literal"><span class="pre">distro.init</span></tt> 是 <tt class="docutils literal"><span class="pre">sysvinit</span></tt> （如 Fedora 、 CentOS/RHEL 等），那么安装时就不能定制集群名，且自动采用默认名 <tt class="docutils literal"><span class="pre">ceph</span></tt> 。</p>
<p>如果用户用 <a class="reference internal" href="#cmdoption-ceph-deploy--repo-url"><em class="xref std std-option">--repo-url</em></a> 选项显式地指定了软件库 URL 作为软件源，那么它会覆盖探测结果，并从定制软件库安装 Ceph 软件包。若有必要，也会检测并安装有效的定制存储池。从定制软件库安装时，需输入一个布尔值确定所需逻辑，然后才能继续定制软件库的安装。它所用的定制软件库安装辅助程序会查验配置、下载软件库（及其它附加软件库）并安装它。 <tt class="docutils literal"><span class="pre">cd_conf</span></tt> 是 <tt class="docutils literal"><span class="pre">argparse</span></tt> 构建的对象，它所存储的标识和信息决定了会用到配置里的哪些元数据。</p>
<p>用户也可以用 <a class="reference internal" href="#cmdoption-ceph-deploy--repo"><em class="xref std std-option">--repo</em></a> 选项做到只装软件库，而不装 Ceph 及其依赖软件包。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy install [HOST][HOST...]</pre>
</div>
<p>这里的 [HOST] 是将被安装 Ceph 软件的主机节点。</p>
<p><tt class="docutils literal"><span class="pre">--release</span></tt> 选项可用于指定安装的版本，参数为 CODENAME ，默认为 firefly 。</p>
<p>此命令支持的其它选项： <a class="reference internal" href="#cmdoption-ceph-deploy--testing"><em class="xref std std-option">--testing</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--dev"><em class="xref std std-option">--dev</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--adjust-repos"><em class="xref std std-option">--adjust-repos</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--no-adjust-repos"><em class="xref std std-option">--no-adjust-repos</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--repo"><em class="xref std std-option">--repo</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--local-mirror"><em class="xref std std-option">--local-mirror</em></a> 、 <a class="reference internal" href="#cmdoption-ceph-deploy--repo-url"><em class="xref std std-option">--repo-url</em></a> 和 <a class="reference internal" href="#cmdoption-ceph-deploy--gpg-url"><em class="xref std std-option">--gpg-url</em></a> 。</p>
</div>
<div class="section" id="mds">
<h3>mds<a class="headerlink" href="#mds" title="Permalink to this headline">¶</a></h3>
<p>在远程主机上部署 Ceph 元数据服务器。元数据服务器对 CephFS 来说是必需的， <tt class="docutils literal"><span class="pre">mds</span></tt> 命令可用于在指定节点上创建它。 <tt class="docutils literal"><span class="pre">create</span></tt> 子命令就是做这个的，它首先获取目标 mds 主机的主机名和发行版信息，之后尝试读取集群的 <tt class="docutils literal"><span class="pre">bootstrap-mds</span></tt> 密钥并部署到目标主机。密钥格式通常是 <tt class="docutils literal"><span class="pre">{cluster}.bootstrap-mds.keyring</span></tt> ，如果它没找到此密钥环，就用 <tt class="docutils literal"><span class="pre">gatherkeys</span></tt> 来获取此密钥环；然后在目标主机上创建 mds （在 <tt class="docutils literal"><span class="pre">/var/lib/ceph/mds/</span></tt> 路径下、按 <tt class="docutils literal"><span class="pre">/var/lib/ceph/mds/{cluster}-{name}</span></tt> 格式）和自举引导密钥环（在 <tt class="docutils literal"><span class="pre">/var/lib/ceph/bootstrap-mds/</span></tt> 下、按 <tt class="docutils literal"><span class="pre">/var/lib/ceph/bootstrap-mds/{cluster}.keyring</span></tt> 格式）；然后根据 <tt class="docutils literal"><span class="pre">distro.init</span></tt> 运行相应命令来启动 <tt class="docutils literal"><span class="pre">mds</span></tt> 。要删除 mds ，可用 <tt class="docutils literal"><span class="pre">destroy</span></tt> 子命令。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy mds create [HOST[:DAEMON-NAME]] [HOST[:DAEMON-NAME]...]

ceph-deploy mds destroy [HOST[:DAEMON-NAME]] [HOST[:DAEMON-NAME]...]</pre>
</div>
<p>[DAEMON-NAME] 是可选项。</p>
</div>
<div class="section" id="mon">
<h3>mon<a class="headerlink" href="#mon" title="Permalink to this headline">¶</a></h3>
<p>在远程主机上部署 Ceph 监视器。 <tt class="docutils literal"><span class="pre">mon</span></tt> 用特定子命令把 Ceph 监视器部署到其它节点。</p>
<p><tt class="docutils literal"><span class="pre">create-initial</span></tt> 子命令会部署 Ceph 配置文件中 <tt class="docutils literal"><span class="pre">[global]</span></tt> 段下、 <tt class="docutils literal"><span class="pre">mon</span> <span class="pre">initial</span> <span class="pre">members</span></tt> 定义的监视器，然后等它们形成法定人数后收集密钥，并一直报告此期间的监视器状态。如果监视器未能形成法定人数，此命令最终会超时。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy mon create-initial</pre>
</div>
<p><tt class="docutils literal"><span class="pre">create</span></tt> 子命令用于部署 Ceph 监视器，需明确指定想作监视器的主机。如果没指定，它将默认采用 Ceph 配置文件中 <tt class="docutils literal"><span class="pre">[global]</span></tt> 段下 <tt class="docutils literal"><span class="pre">mon</span> <span class="pre">initial</span> <span class="pre">members</span></tt> 定义的。 <tt class="docutils literal"><span class="pre">create</span></tt> 首先会探测目标主机的平台和发行版、并检查主机名是否能兼容此部署；然后采用 <tt class="docutils literal"><span class="pre">new</span></tt> 命令创建的监视器密钥环、并在目标主机上部署监视器。如果运行 <tt class="docutils literal"><span class="pre">new</span></tt> 命令时指定了多个主机，即 <tt class="docutils literal"><span class="pre">mon</span> <span class="pre">initial</span> <span class="pre">members</span></tt> 内含多个主机、且创建了多个密钥环，那么部署监视器时将使用串连过的密钥环，在此期间将用到密钥环解析器，它会在各密钥环中搜索并返回一连串 <tt class="docutils literal"><span class="pre">[entity]</span></tt> 段落；然后用一个辅助程序把所有密钥环集中到一个单体二进制数据块中，此数据块将随 <em class="xref std std-option">--mkfs</em> 选项被注入远程主机上的监视器。所有要被串连的密钥环应该位于同一目录、且以 <tt class="docutils literal"><span class="pre">.keyring</span></tt> 结尾，在此过程中，此辅助程序用密钥环解析器返回的段落列表来检查实体是否已经存在于密钥环中，没有的话加上。串连起的密钥环被用于往多个主机上部署监视器。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy mon create [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是目标监视器主机的主机名。</p>
<p><tt class="docutils literal"><span class="pre">add</span></tt> 子命令用于向已有集群增加一监视器。它首先探测目标主机的平台和发行版、并检查主机名是否能兼容此部署；然后使用监视器密钥环、确认新监视器主机的配置、并把它加入集群。如果此监视器配置段已存在且定义了 mon addr ，那就采用此地址，否则就得先把主机名解析为 IP 地址；如果加了 <a class="reference internal" href="#cmdoption-ceph-deploy--address"><em class="xref std std-option">--address</em></a> 选项，它将覆盖所有其它选项。加完监视器后会等它启动，然后检查有什么监视器错误、并检查监视器状态。监视器错误可能有：它未加入 <tt class="docutils literal"><span class="pre">mon</span> <span class="pre">initial</span> <span class="pre">members</span></tt> 、没在 <tt class="docutils literal"><span class="pre">monmap</span></tt> 里面、 <tt class="docutils literal"><span class="pre">public_addr</span></tt> 和 <tt class="docutils literal"><span class="pre">public_network</span></tt> 关键字都没定义，这时，监视器们不能组建法定人数。监视器状态能说明此监视器是否启动且正常运行着。此状态是通过在远端运行 <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">daemon</span> <span class="pre">mon.hostname</span> <span class="pre">mon_status</span></tt> 获取的，此命令的输出和布尔值状态能说明当前状况； <tt class="docutils literal"><span class="pre">False</span></tt> 意味着此监视器有问题，即使它已启动且运行着， <tt class="docutils literal"><span class="pre">True</span></tt> 意味着此监视器已启动且运行正常。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy mon add [HOST]

ceph-deploy mon add [HOST] --address [IP]</pre>
</div>
<p>这里的 [HOST] 是主机名、 [IP] 是目标监视器节点的 IP 地址。要注意，不像其他的 <tt class="docutils literal"><span class="pre">mon</span></tt> 子命令，这里一次只能指定一个节点。</p>
<p><tt class="docutils literal"><span class="pre">destroy</span></tt> 子命令用于从远程主机上完全删除监视器，其参数为主机名。它会停止监视器、确认 <tt class="docutils literal"><span class="pre">ceph-mon</span></tt> 是否确实停止了、在 <tt class="docutils literal"><span class="pre">/var/lib/ceph/</span></tt> 下创建存档目录 <tt class="docutils literal"><span class="pre">mon-remove</span></tt> 、把监视器的旧目录按 <tt class="docutils literal"><span class="pre">{cluster}-{hostname}-{stamp}</span></tt> 格式归档进去、并运行 <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">remove...</span></tt> 命令从集群删除它。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy mon destroy [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是要删除的监视器的主机名。</p>
</div>
<div class="section" id="gatherkeys">
<h3>gatherkeys<a class="headerlink" href="#gatherkeys" title="Permalink to this headline">¶</a></h3>
<p>用于收集新节点所需的认证密钥，以主机名作参数。它会到监视器主机检查并取来 <tt class="docutils literal"><span class="pre">client.admin</span></tt> 密钥环、监视器密钥环和 <tt class="docutils literal"><span class="pre">bootstrap-mds/bootstrap-osd</span></tt> 密钥环，向集群新增 <tt class="docutils literal"><span class="pre">monitors/OSDs/MDS</span></tt> 时会用到这些认证密钥。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy gatherkeys [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是监视器主机名，密钥将从这里拉取。</p>
</div>
<div class="section" id="disk">
<h3>disk<a class="headerlink" href="#disk" title="Permalink to this headline">¶</a></h3>
<p>管理远程主机上的硬盘，实际上它会调用 <tt class="docutils literal"><span class="pre">ceph-disk</span></tt> 工具及其子命令来管理硬盘。</p>
<p><tt class="docutils literal"><span class="pre">list</span></tt> 子命令罗列硬盘分区和 Ceph OSD 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy disk list [HOST:[DISK]]</pre>
</div>
<p>这里的 [HOST] 是节点的主机名、 [DISK] 是硬盘名称或路径。</p>
<p><tt class="docutils literal"><span class="pre">prepare</span></tt> 子命令用于预处理 Ceph OSD 所需的目录、硬盘或驱动器。它会创建 GPT 分区、用 Ceph 的类型 UUID 标记分区、创建文件系统、把文件系统标记为可接收 Ceph 数据、使用日志硬盘的整个分区并新增一分区。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy disk prepare [HOST:[DISK]]</pre>
</div>
<p>这里的 [HOST] 是节点主机名， [DISK] 是硬盘名或路径。</p>
<p><tt class="docutils literal"><span class="pre">activate</span></tt> 子命令用于激活 Ceph OSD 。它会把卷挂载到一个临时位置、分配 OSD 惟一标识符（如有必要）、重新挂载到正确位置 <tt class="docutils literal"><span class="pre">/var/lib/ceph/osd/$cluster-$id</span></tt> 并启动 <tt class="docutils literal"><span class="pre">ceph-osd</span></tt> 。此 OSD 可由 <tt class="docutils literal"><span class="pre">udev</span></tt> （当它探测到 OSD GPT 分区类型时）或 ceph 服务启动命令 <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">disk</span> <span class="pre">activate-all</span></tt> 激活。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy disk activate [HOST:[DISK]]</pre>
</div>
<p>这里的 [HOST] 是节点主机名， [DISK] 是硬盘名或路径。</p>
<p><tt class="docutils literal"><span class="pre">zap</span></tt> 子命令可用于杀死、擦除、销毁一设备的分区表和内容。实际上它用 <tt class="docutils literal"><span class="pre">sgdisk</span></tt> 加 <tt class="docutils literal"><span class="pre">--zap-all</span></tt> 选项来销毁 GPT 和 MBR 数据结构，这样才能重新分区；然后用 <tt class="docutils literal"><span class="pre">--mbrtogpt</span></tt> 选项把 MBR 或 BSD 格式的分区转换为 GPT 格式。现在就可以执行 <tt class="docutils literal"><span class="pre">prepare</span></tt> 子命令来新建 GPT 分区了。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy disk zap [HOST:[DISK]]</pre>
</div>
<p>这里的 [HOST] 是节点主机名， [DISK] 是硬盘名或路径。</p>
</div>
<div class="section" id="osd">
<h3>osd<a class="headerlink" href="#osd" title="Permalink to this headline">¶</a></h3>
<p>用于管理 OSD ，预处理远程主机上的数据盘。 <tt class="docutils literal"><span class="pre">osd</span></tt> 用几个子命令管理 OSD 。</p>
<p><tt class="docutils literal"><span class="pre">prepare</span></tt> 子命令用于预处理用作 Ceph OSD 的目录、硬盘或驱动器。它会先检查将要创建的多个 OSD 、并且在可能会超过建议值时发出警告，超过系统允许的最大 PID 数时会产生问题；然后读取集群的 bootstrap-osd 密钥，或没找到时生成一个自举引导密钥；然后调用 <strong class="program">ceph-disk</strong> 工具的 <tt class="docutils literal"><span class="pre">prepare</span></tt> 子命令预处理硬盘、日志并在目标主机上部署 OSD 。预处理完成后，它会给 OSD 一些时间处理自身事务，并检查任何可能错误，发现的话报告给用户。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy osd prepare HOST:DISK[:JOURNAL] [HOST:DISK[:JOURNAL]...]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">activate</span></tt> 子命令可激活用 <tt class="docutils literal"><span class="pre">prepare</span></tt> 子命令预处理过的 OSD 。实际上它是基于发行版的 init 类型执行 <strong class="program">ceph-disk</strong> 工具的 <tt class="docutils literal"><span class="pre">activate</span></tt> 子命令来激活 OSD 的。激活后，它会给 OSD 一些时间让它启动，然后检查任何可能错误，发现的话报告给用户。它会检查预处理过的 OSD 状态、检查 OSD 树、确保这些 OSD 已启动且在运行。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy osd activate HOST:DISK[:JOURNAL] [HOST:DISK[:JOURNAL]...]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">create</span></tt> 子命令用 <tt class="docutils literal"><span class="pre">prepare</span></tt> 和 <tt class="docutils literal"><span class="pre">activate</span></tt> 子命令创建 OSD 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy osd create HOST:DISK[:JOURNAL] [HOST:DISK[:JOURNAL]...]</pre>
</div>
<p><tt class="docutils literal"><span class="pre">list</span></tt> 子命令可罗列磁盘分区、 Ceph OSD 且打印 OSD 元数据。它要先从监视器主机获取 OSD 树、根据 <tt class="docutils literal"><span class="pre">ceph-disk-list</span></tt> 的输出匹配 OSD 名字以获取挂载点、从文件读取元数据、检查是否存在日志路径、此 OSD 是否在 OSD 树里并打印 OSD 元数据。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy osd list HOST:DISK[:JOURNAL] [HOST:DISK[:JOURNAL]...]</pre>
</div>
</div>
<div class="section" id="admin">
<h3>admin<a class="headerlink" href="#admin" title="Permalink to this headline">¶</a></h3>
<p>把配置和 <tt class="docutils literal"><span class="pre">client.admin</span></tt> 密钥推送到远程主机，它把管理节点上的 <tt class="docutils literal"><span class="pre">{cluster}.client.admin.keyring</span></tt> 复制到目标节点的 <tt class="docutils literal"><span class="pre">/etc/ceph</span></tt> 目录下。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy admin [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是目标主机，它将被配置为 Ceph 管理主机。</p>
</div>
<div class="section" id="config">
<h3>config<a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h3>
<p>把配置文件推送到远程主机、或从远程主机拉取。它用 <tt class="docutils literal"><span class="pre">push</span></tt> 子命令把管理主机上的配置文件写入远程主机的 <tt class="docutils literal"><span class="pre">/etc/ceph</span></tt> 目录下； <tt class="docutils literal"><span class="pre">pull</span></tt> 子命令则相反，也就是把远程主机 <tt class="docutils literal"><span class="pre">/etc/ceph</span></tt> 目录下的配置文件拉取到管理节点上。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy push [HOST] [HOST...]

ceph-deploy pull [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是节点主机名，将到这里推送或拉取配置文件。</p>
</div>
<div class="section" id="uninstall">
<h3>uninstall<a class="headerlink" href="#uninstall" title="Permalink to this headline">¶</a></h3>
<p>删除远程主机上的 Ceph 软件包。它会探测指定主机的平台及发行版、并卸载其上的 Ceph 软件包。然而像 <tt class="docutils literal"><span class="pre">librbd1</span></tt> 和 <tt class="docutils literal"><span class="pre">librados2</span></tt> 这样的依赖包不会被删除，因为 <tt class="docutils literal"><span class="pre">qemu-kvm</span></tt> 还需要它们。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy uninstall [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是要卸载 Ceph 的节点主机名。</p>
</div>
<div class="section" id="purge">
<h3>purge<a class="headerlink" href="#purge" title="Permalink to this headline">¶</a></h3>
<p>删除远程主机上的 Ceph 软件包、并清除所有数据。它会探测指定主机的平台及发行版、卸载 Ceph 软件包并清除所有数据。然而像 <tt class="docutils literal"><span class="pre">librbd1</span></tt> 和 <tt class="docutils literal"><span class="pre">librados2</span></tt> 这样的依赖包不会被删除，因为 <tt class="docutils literal"><span class="pre">qemu-kvm</span></tt> 还需要它们。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy purge [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是将被清除 Ceph 痕迹的节点主机名。</p>
</div>
<div class="section" id="purgedata">
<h3>purgedata<a class="headerlink" href="#purgedata" title="Permalink to this headline">¶</a></h3>
<p>清除（删除、销毁、丢弃、粉碎） <tt class="docutils literal"><span class="pre">/var/lib/ceph</span></tt> 之下的所有 Ceph 数据。探测到目标主机的平台及发行版后，它会先检查指定主机上是否仍装着 Ceph ，若安装了就不会清除数据；若 Ceph 已被卸载，它就会尝试卸载 <tt class="docutils literal"><span class="pre">/var/lib/ceph</span></tt> 下的内容。如果失败了，说明 OSD 数据盘可能还挂载着，要先卸载才能继续。它会卸载各 OSD 、再次尝试删除 <tt class="docutils literal"><span class="pre">/var/lib/ceph</span></tt> 下的内容、并检查报错；它也会删除 <tt class="docutils literal"><span class="pre">/etc/ceph</span></tt> 下的内容。所有步骤都成功完成后，指定主机上的所有 Ceph 数据就清除完了。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy purgedata [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是要清除数据的节点主机名。</p>
</div>
<div class="section" id="forgetkeys">
<h3>forgetkeys<a class="headerlink" href="#forgetkeys" title="Permalink to this headline">¶</a></h3>
<p>删除本地目录中的认证密钥。它会删除此节点上的所有认证密钥，即监视器密钥环、 client.admin 密钥环、 bootstrap-osd 和 bootstrap-mds 密钥环。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy forgetkeys</pre>
</div>
</div>
<div class="section" id="pkg">
<h3>pkg<a class="headerlink" href="#pkg" title="Permalink to this headline">¶</a></h3>
<p>管理远程主机上的软件包，可用于安装或删除软件包。要安装或删除的软件包名字必须加在命令行之后，对应选项分别为 <a class="reference internal" href="#cmdoption-ceph-deploy--install"><em class="xref std std-option">--install</em></a> 和 <a class="reference internal" href="#cmdoption-ceph-deploy--remove"><em class="xref std std-option">--remove</em></a> 。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy pkg --install [PKGs] [HOST] [HOST...]

ceph-deploy pkg --remove [PKGs] [HOST] [HOST...]</pre>
</div>
<p>这里的 [PKGs] 是逗号分隔的软件包名字， [HOST] 是远程节点的主机名，将在此主机安装或删除软件包。</p>
</div>
<div class="section" id="calamari">
<h3>calamari<a class="headerlink" href="#calamari" title="Permalink to this headline">¶</a></h3>
<p>安装并配置 Calamari 节点。它首先检查 ceph-deploy 是否支持在此发行版上安装 Calamari 。 <tt class="docutils literal"><span class="pre">connect</span></tt> 参数用于安装和配置，它会检查 <tt class="docutils literal"><span class="pre">ceph-deploy</span></tt> 配置文件（ cd_conf ）和 Calamari 或 <tt class="docutils literal"><span class="pre">calamari-minion</span></tt> 软件库，它靠默认值安装软件库，除非另外指定，否则它不会安装 Ceph 。 <tt class="docutils literal"><span class="pre">options</span></tt> 字典也需定义，因为 <tt class="docutils literal"><span class="pre">ceph-deploy</span></tt> 内部会弹出各条目，如果各主机都必须有这些条目时就可能产生问题。若发行版是 Debian/Ubuntu ，它会确保对 <tt class="docutils literal"><span class="pre">calamari-minion</span></tt> 禁用了代理，之后就会安装 <tt class="docutils literal"><span class="pre">calamari-minion</span></tt> 包、并添加定制软件库文件。安装时会优先放置 minion 配置，这样在 minion 首次启动时就能使用它了；然后创建配置目录、 calamari 的初始配置、安装 salt-minion 软件包。如果是 Redhat/CentOS 发行版，还需启动 salt-minion 服务。</p>
<p>用法：</p>
<div class="highlight-python"><pre>ceph-deploy calamari {connect} [HOST] [HOST...]</pre>
</div>
<p>这里的 [HOST] 是要安装 Calamari 的主机名。</p>
<p><tt class="docutils literal"><span class="pre">--release</span></tt> 选项可用于选定 <strong class="program">ceph-deploy</strong> 配置里指定的版本，默认为 <tt class="docutils literal"><span class="pre">calamari-minion</span></tt> 。</p>
<p>此命令也支持 <a class="reference internal" href="#cmdoption-ceph-deploy--master"><em class="xref std std-option">--master</em></a> 选项。</p>
</div>
</div>
<div class="section" id="id4">
<h2>选项<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-ceph-deploy--version">
<tt class="descname">--version</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--version" title="Permalink to this definition">¶</a></dt>
<dd><p>当前所安装的 <strong class="program">ceph-deploy</strong> 版本。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--username">
<tt class="descname">--username</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--username" title="Permalink to this definition">¶</a></dt>
<dd><p>连接远程主机所有的用户名。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--overwrite-conf">
<tt class="descname">--overwrite-conf</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--overwrite-conf" title="Permalink to this definition">¶</a></dt>
<dd><p>覆盖远程主机上的已有配置文件（若存在）。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--cluster">
<tt class="descname">--cluster</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>集群名字。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--ceph-conf">
<tt class="descname">--ceph-conf</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--ceph-conf" title="Permalink to this definition">¶</a></dt>
<dd><p>采用（或重用）指定的 <tt class="docutils literal"><span class="pre">ceph.conf</span></tt> 文件。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--no-ssh-copykey">
<tt class="descname">--no-ssh-copykey</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--no-ssh-copykey" title="Permalink to this definition">¶</a></dt>
<dd><p>不要复制 ssh 密钥。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--fsid">
<tt class="descname">--fsid</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--fsid" title="Permalink to this definition">¶</a></dt>
<dd><p>生成 <tt class="docutils literal"><span class="pre">ceph.conf</span></tt> 时另外指定 FSID 。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--cluster-network">
<tt class="descname">--cluster-network</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--cluster-network" title="Permalink to this definition">¶</a></dt>
<dd><p>指定（内部的）集群网。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--public-network">
<tt class="descname">--public-network</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--public-network" title="Permalink to this definition">¶</a></dt>
<dd><p>指定集群的公共网。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--testing">
<tt class="descname">--testing</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--testing" title="Permalink to this definition">¶</a></dt>
<dd><p>安装最新开发版。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--dev">
<tt class="descname">--dev</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--dev" title="Permalink to this definition">¶</a></dt>
<dd><p>安装最前沿版本，从 Git 分支或某标签（默认为 master ）编译而来。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--adjust-repos">
<tt class="descname">--adjust-repos</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--adjust-repos" title="Permalink to this definition">¶</a></dt>
<dd><p>安装会修改源软件库的软件包。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--no-adjust-repos">
<tt class="descname">--no-adjust-repos</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--no-adjust-repos" title="Permalink to this definition">¶</a></dt>
<dd><p>安装不会修改源软件库的软件包。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--repo">
<tt class="descname">--repo</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--repo" title="Permalink to this definition">¶</a></dt>
<dd><p>只安装软件库文件（跳过软件包安装）。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--local-mirror">
<tt class="descname">--local-mirror</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--local-mirror" title="Permalink to this definition">¶</a></dt>
<dd><p>抓取软件包并推送到某些主机上作为本地软件库镜像。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--repo-url">
<tt class="descname">--repo-url</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--repo-url" title="Permalink to this definition">¶</a></dt>
<dd><p>指定一个镜像或包含 Ceph 软件包的软件库 url 。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--gpg-url">
<tt class="descname">--gpg-url</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--gpg-url" title="Permalink to this definition">¶</a></dt>
<dd><p>指定用于定制软件库的 GPG 密钥 URL （默认为 ceph.com ）。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--address">
<tt class="descname">--address</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--address" title="Permalink to this definition">¶</a></dt>
<dd><p>将被加入集群的主机节点的 IP 地址。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--keyrings">
<tt class="descname">--keyrings</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--keyrings" title="Permalink to this definition">¶</a></dt>
<dd><p>串连要放置到新监视器的多个密钥环。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--zap-disk">
<tt class="descname">--zap-disk</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--zap-disk" title="Permalink to this definition">¶</a></dt>
<dd><p>销毁分区表和硬盘内容。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--fs-type">
<tt class="descname">--fs-type</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--fs-type" title="Permalink to this definition">¶</a></dt>
<dd><p>格式化硬盘时指定的文件系统 <tt class="docutils literal"><span class="pre">(xfs,</span> <span class="pre">btrfs</span> <span class="pre">or</span> <span class="pre">ext4)</span></tt> 。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--dmcrypt">
<tt class="descname">--dmcrypt</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--dmcrypt" title="Permalink to this definition">¶</a></dt>
<dd><p>用 <tt class="docutils literal"><span class="pre">dm-crypt</span></tt> 加密 [data-path] 和/或日志设备。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--dmcrypt-key-dir">
<tt class="descname">--dmcrypt-key-dir</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--dmcrypt-key-dir" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">dm-crypt</span></tt> 的密钥所在目录。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--install">
<tt class="descname">--install</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--install" title="Permalink to this definition">¶</a></dt>
<dd><p>要安装到远程主机的软件包，以逗号分隔。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--remove">
<tt class="descname">--remove</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--remove" title="Permalink to this definition">¶</a></dt>
<dd><p>要从远程主机删除的软件包，以逗号分隔。</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ceph-deploy--master">
<tt class="descname">--master</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-ceph-deploy--master" title="Permalink to this definition">¶</a></dt>
<dd><p>Calamari 主服务器的域。</p>
</dd></dl>

</div>
<div class="section" id="id5">
<h2>使用范围<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">ceph-deploy</strong> 是 Ceph 的一部分，这是个伸缩力强、开源、分布式的存储系统，更多信息参见 <a class="reference external" href="http://ceph.com/docs">http://ceph.com/docs</a> 。</p>
</div>
<div class="section" id="id6">
<h2>参考<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../ceph-mon/"><em>ceph-mon</em></a>(8),
<a class="reference internal" href="../ceph-osd/"><em>ceph-osd</em></a>(8),
<a class="reference internal" href="../ceph-disk/"><em>ceph-disk</em></a>(8),
<a class="reference internal" href="../ceph-mds/"><em>ceph-mds</em></a>(8)</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装（手动）</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../rados/">Ceph 存储集群</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../rados/configuration/">配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/deployment/">部署</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/operations/">运维</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../rados/man/">手册页</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ceph-disk/">ceph-disk &#8211; Ceph 的硬盘管理工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph/">ceph &#8211; Ceph 管理工具</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">ceph-deploy &#8211; Ceph 部署工具</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">提纲</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">描述</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">命令</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#new">new</a></li>
<li class="toctree-l5"><a class="reference internal" href="#install">install</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mds">mds</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mon">mon</a></li>
<li class="toctree-l5"><a class="reference internal" href="#gatherkeys">gatherkeys</a></li>
<li class="toctree-l5"><a class="reference internal" href="#disk">disk</a></li>
<li class="toctree-l5"><a class="reference internal" href="#osd">osd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#admin">admin</a></li>
<li class="toctree-l5"><a class="reference internal" href="#config">config</a></li>
<li class="toctree-l5"><a class="reference internal" href="#uninstall">uninstall</a></li>
<li class="toctree-l5"><a class="reference internal" href="#purge">purge</a></li>
<li class="toctree-l5"><a class="reference internal" href="#purgedata">purgedata</a></li>
<li class="toctree-l5"><a class="reference internal" href="#forgetkeys">forgetkeys</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pkg">pkg</a></li>
<li class="toctree-l5"><a class="reference internal" href="#calamari">calamari</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id4">选项</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">使用范围</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-rest-api/">ceph-rest-api &#8211; ceph 的 REST 风格管理服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-authtool/">ceph-authtool &#8211; ceph 密钥环操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-clsinfo/">ceph-clsinfo &#8211; 查看类对象信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-conf/">ceph-conf &#8211; ceph 配置文件工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-debugpack/">ceph-debugpack &#8211; ceph 调试信息打包工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-dencoder/">ceph-dencoder &#8211; ceph 编码器/解码器工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-mon/">ceph-mon &#8211; ceph 监视器守护进程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-osd/">ceph-osd &#8211; ceph 对象存储守护进程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-run/">ceph-run &#8211; 发生核心转储后重启守护进程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-syn/">ceph-syn &#8211; ceph 的人造负载生成器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crushtool/">crushtool &#8211; CRUSH 图操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../librados-config/">librados-config &#8211; 显示关于 librados 的信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monmaptool/">monmaptool &#8211; ceph 监视器运行图操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../osdmaptool/">osdmaptool &#8211; ceph osd 运行图操作工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rados/">rados &#8211; rados 对象存储工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-post-file/">ceph-post-file &#8211; 把文件上传给 ceph 开发者</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/troubleshooting/">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph 版本</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-rest-api/" title="ceph-rest-api – ceph 的 REST 风格管理服务器"
             >next</a> |</li>
        <li class="right" >
          <a href="../ceph/" title="ceph – Ceph 管理工具"
             >previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../../rados/" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../../../rados/man/" >对象存储手册页</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>
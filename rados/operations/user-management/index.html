
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>用户管理 &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <link rel="up" title="集群运维" href="../" />
    <link rel="next" title="数据归置概览" href="../data-placement/" />
    <link rel="prev" title="监控 OSD 和归置组" href="../monitoring-osd-pg/" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../data-placement/" title="数据归置概览"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../monitoring-osd-pg/" title="监控 OSD 和归置组"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../" accesskey="U">集群运维</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>用户管理<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>本文档叙述了 <a class="reference internal" href="../../../glossary/#term-67"><em class="xref std std-term">Ceph 客户端</em></a>的用户身份，及其与 <a class="reference internal" href="../../../glossary/#term-21"><em class="xref std std-term">Ceph 存储集群</em></a>的认证和授权。用户可以是个人或系统角色（像应用程序），它们用 Ceph 客户端和 Ceph 服务器守护进程交互。</p>
<p class="ditaa">
<img src="../../../_images/ditaa-4e41c1197cfd86b7f36a128297660e48903315d1.png"/>
</p>
<p>When Ceph runs with authentication and authorization enabled (enabled by
default), you must specify a user name and a keyring containing the secret key
of the specified user (usually via the command line). If you do not specify a
user name, Ceph will use <tt class="docutils literal"><span class="pre">client.admin</span></tt> as the default user name. If you do
not specify a keyring, Ceph will look for a keyring via the <tt class="docutils literal"><span class="pre">keyring</span></tt> setting
in the Ceph configuration. For example, if you execute the <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">health</span></tt>
command without specifying a user or keyring:</p>
<div class="highlight-python"><pre>ceph health</pre>
</div>
<p>Ceph interprets the command like this:</p>
<div class="highlight-python"><pre>ceph -n client.admin --keyring=/etc/ceph/ceph.client.admin.keyring health</pre>
</div>
<p>另外你也可以用 <tt class="docutils literal"><span class="pre">CEPH_ARGS</span></tt> 环境变量来避免多次输入用户名和密钥。</p>
<p>For details on configuring the Ceph Storage Cluster to use authentication,
see <a class="reference external" href="../../configuration/auth-config-ref">Cephx 配置参考</a>. For details on the architecture of Cephx, see
<a class="reference external" href="../../../architecture#high-availability-authentication">体系结构——高可用性认证</a>.</p>
<div class="section" id="id2">
<h2>背景<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Irrespective of the type of Ceph client (e.g., Block Device, Object Storage,
Filesystem, native API, etc.), Ceph stores all data as objects within <a class="reference external" href="../pools">pools</a>.
Ceph users must have access to pools in order to read and write data.
Additionally, Ceph users must have execute permissions to use Ceph&#8217;s
administrative commands. The following concepts will help you understand Ceph
user management.</p>
<div class="section" id="id3">
<h3>用户<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>A user is either an individual or a system actor such as an application.
Creating users allows you to control who (or what) can access your Ceph Storage
Cluster, its pools, and the data within pools.</p>
<p>Ceph has the notion of a <tt class="docutils literal"><span class="pre">type</span></tt> of user. For the purposes of user management,
the type will always be <tt class="docutils literal"><span class="pre">client</span></tt>. Ceph identifies users in period (.)
delimited form consisting of the user type and the user ID: for example,
<tt class="docutils literal"><span class="pre">TYPE.ID</span></tt>, <tt class="docutils literal"><span class="pre">client.admin</span></tt>, or <tt class="docutils literal"><span class="pre">client.user1</span></tt>. The reason for user typing
is that Ceph Monitors, OSDs, and Metadata Servers also use the Cephx protocol,
but they are not clients. Distinguishing the user type helps to distinguish
between client users and other users&#8211;streamlining access control, user
monitoring and traceability.</p>
<p>Sometimes Ceph&#8217;s user type may seem confusing, because the Ceph command line
allows you to specify a user with or without the type, depending upon your
command line usage. If you specify <tt class="docutils literal"><span class="pre">--user</span></tt> or <tt class="docutils literal"><span class="pre">--id</span></tt>, you can omit the
type. So <tt class="docutils literal"><span class="pre">client.user1</span></tt> can be entered simply as <tt class="docutils literal"><span class="pre">user1</span></tt>. If you specify
<tt class="docutils literal"><span class="pre">--name</span></tt> or <tt class="docutils literal"><span class="pre">-n</span></tt>, you must specify the type and name, such as
<tt class="docutils literal"><span class="pre">client.user1</span></tt>. We recommend using the type and name as a best practice
wherever possible.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A Ceph Storage Cluster user is not the same as a Ceph Object Storage
user or a Ceph Filesystem user. The Ceph Object Gateway uses a Ceph Storage
Cluster user to communicate between the gateway daemon and the storage
cluster, but the gateway has its own user management functionality for end
users. The Ceph Filesystem uses POSIX semantics. The user space associated
with the Ceph Filesystem is not the same as a Ceph Storage Cluster user.</p>
</div>
</div>
<div class="section" id="id4">
<h3>授权（能力）<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Ceph 用能力（ capabilities, caps ）这个术语来描述给认证用户的授权，这样才能使用监视器、 OSD 、和元数据服务器的功能。能力也用于限制对一存储池内的数据或某个名字空间的访问。 Ceph 的管理用户可在创建或更新某用户时赋予他能力。</p>
<p>能力的语法符合下面的形式：</p>
<div class="highlight-python"><pre>{daemon-type} 'allow {capability}' [{daemon-type} 'allow {capability}']</pre>
</div>
<ul>
<li><p class="first"><strong>监视器能力：</strong> 监视器能力包括 <tt class="docutils literal"><span class="pre">r</span></tt> 、 <tt class="docutils literal"><span class="pre">w</span></tt> 、 <tt class="docutils literal"><span class="pre">x</span></tt> 和 <tt class="docutils literal"><span class="pre">allow</span> <span class="pre">profile</span> <span class="pre">{cap}</span></tt> ，例如：</p>
<div class="highlight-python"><pre>mon 'allow rwx'
mon 'allow profile osd'</pre>
</div>
</li>
<li><p class="first"><strong>OSD 能力：</strong> OSD 能力包括 <tt class="docutils literal"><span class="pre">r</span></tt> 、 <tt class="docutils literal"><span class="pre">w</span></tt> 、 <tt class="docutils literal"><span class="pre">x</span></tt> 、 <tt class="docutils literal"><span class="pre">class-read</span></tt> 、 <tt class="docutils literal"><span class="pre">class-write</span></tt> 和 <tt class="docutils literal"><span class="pre">profile</span> <span class="pre">osd</span></tt> 。另外， OSD 能力还支持存储池和命名空间的配置。</p>
<div class="highlight-python"><pre>osd 'allow {capability}' [pool={poolname}] [namespace={namespace-name}]</pre>
</div>
</li>
<li><p class="first"><strong>元数据服务器能力：</strong> 元数据服务器能力比较简单，只需要 <tt class="docutils literal"><span class="pre">allow</span></tt> 或者空白，也不会解析更多选项。</p>
<div class="highlight-python"><pre>mds 'allow'</pre>
</div>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ceph 对象网关守护进程（ <tt class="docutils literal"><span class="pre">radosgw</span></tt> ）是 Ceph 存储集群的一种客户端，所以它没被表示成一种独立的 Ceph 存储集群守护进程类型。</p>
</div>
<p>下面描述了各种能力。</p>
<p><tt class="docutils literal"><span class="pre">allow</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">在守护进程的访问设置之前，仅对 MDS 隐含 <tt class="docutils literal"><span class="pre">rw</span></tt> 。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">r</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授予用户读权限，监视器需要它才能搜刮 CRUSH 图。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">w</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授予用户写对象的权限。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">x</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授予用户调用类方法的能力，即同时有读和写，且能在监视器上执行 <tt class="docutils literal"><span class="pre">auth</span></tt> 操作。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">class-read</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授予用户调用类读取方法的能力， <tt class="docutils literal"><span class="pre">x</span></tt> 的子集。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">class-write</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授予用户调用类写入方法的能力， <tt class="docutils literal"><span class="pre">x</span></tt> 的子集。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">*</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授权此用户读、写和执行某守护进程/存储池，且允许执行管理命令。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">profile</span> <span class="pre">osd</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授权一个用户以 OSD 身份连接其它 OSD 或监视器。授予 OSD 们允许其它 OSD 处理复制、心跳流量和状态报告。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">profile</span> <span class="pre">mds</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授权一个用户以 MDS 身份连接其它 MDS 或监视器。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">profile</span> <span class="pre">bootstrap-osd</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授权一用户自举引导一 OSD 。授予部署工具，像 <tt class="docutils literal"><span class="pre">ceph-disk</span></tt> 、 <tt class="docutils literal"><span class="pre">ceph-deploy</span></tt> 等等，这样它们在自举引导 OSD 时就有权限增加密钥了。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">profile</span> <span class="pre">bootstrap-mds</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body">授权一用户自举引导一元数据服务器。授予像 <tt class="docutils literal"><span class="pre">ceph-deploy</span></tt> 一样的部署工具，这样它们在自举引导元数据服务器时就有权限增加密钥了。</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h3>存储池<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>存储池是用户存储数据的逻辑分区。在 Ceph 部署中，经常创建存储池作为逻辑分区、用以归类相似的数据。例如，用 Ceph 作为 OpenStack 的后端时，典型的部署通常会创建多个存储池，分别用于存储卷宗、映像、备份和虚拟机，以及用户（如 <tt class="docutils literal"><span class="pre">client.glance</span></tt> 、 <tt class="docutils literal"><span class="pre">client.cinder</span></tt> 等）。</p>
</div>
<div class="section" id="id6">
<h3>命名空间<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Objects within a pool can be associated to a namespace&#8211;a logical group of
objects within the pool. A user&#8217;s access to a pool can be associated with a
namespace such that reads and writes by the user take place only within the
namespace. Objects written to a namespace within the pool can only be accessed
by users who have access to the namespace.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently (i.e., <tt class="docutils literal"><span class="pre">firefly</span></tt>), namespaces are only useful for
applications written on top of <tt class="docutils literal"><span class="pre">librados</span></tt>. Ceph clients such as block
device, object storage and file system do not currently support this
feature.</p>
</div>
<p>The rationale for namespaces is that pools can be a computationally expensive
method of segregating data sets for the purposes of authorizing separate sets
of users. For example, a pool should have ~100 placement groups per OSD. So an
exemplary cluster with 1000 OSDs would have 100,000 placement groups for one
pool. Each pool would create another 100,000 placement groups in the exemplary
cluster. By contrast, writing an object to a namespace simply associates the
namespace to the object name with out the computational overhead of a separate
pool. Rather than creating a separate pool for a user or set of users, you may
use a namespace. <strong>Note:</strong> Only available using <tt class="docutils literal"><span class="pre">librados</span></tt> at this time.</p>
</div>
</div>
<div class="section" id="id7">
<h2>管理用户<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>User management functionality provides Ceph Storage Cluster administrators with
the ability to create, update and delete users directly in the Ceph Storage
Cluster.</p>
<p>When you create or delete users in the Ceph Storage Cluster, you may need to
distribute keys to clients so that they can be added to keyrings. 详情见<a class="reference internal" href="#id15">密钥环管理</a>。</p>
<div class="section" id="id8">
<h3>罗列用户<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>To list the users in your cluster, execute the following:</p>
<div class="highlight-python"><pre>ceph auth list</pre>
</div>
<p>Ceph will list out all users in your cluster. For example, in a two-node
exemplary cluster, <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">list</span></tt> will output something that looks like
this:</p>
<div class="highlight-python"><pre>installed auth entries:

osd.0
        key: AQCvCbtToC6MDhAATtuT70Sl+DymPCfDSsyV4w==
        caps: [mon] allow profile osd
        caps: [osd] allow *
osd.1
        key: AQC4CbtTCFJBChAAVq5spj0ff4eHZICxIOVZeA==
        caps: [mon] allow profile osd
        caps: [osd] allow *
client.admin
        key: AQBHCbtT6APDHhAA5W00cBchwkQjh3dkKsyPjw==
        caps: [mds] allow
        caps: [mon] allow *
        caps: [osd] allow *
client.bootstrap-mds
        key: AQBICbtTOK9uGBAAdbe5zcIGHZL3T/u2g6EBww==
        caps: [mon] allow profile bootstrap-mds
client.bootstrap-osd
        key: AQBHCbtT4GxqORAADE5u7RkpCN/oo4e5W0uBtw==
        caps: [mon] allow profile bootstrap-osd</pre>
</div>
<p>Note that the <tt class="docutils literal"><span class="pre">TYPE.ID</span></tt> notation for users applies such that <tt class="docutils literal"><span class="pre">osd.0</span></tt> is a
user of type <tt class="docutils literal"><span class="pre">osd</span></tt> and its ID is <tt class="docutils literal"><span class="pre">0</span></tt>, <tt class="docutils literal"><span class="pre">client.admin</span></tt> is a user of type
<tt class="docutils literal"><span class="pre">client</span></tt> and its ID is <tt class="docutils literal"><span class="pre">admin</span></tt> (i.e., the default <tt class="docutils literal"><span class="pre">client.admin</span></tt> user).
Note also that each entry has a <tt class="docutils literal"><span class="pre">key:</span> <span class="pre">&lt;value&gt;</span></tt> entry, and one or more
<tt class="docutils literal"><span class="pre">caps:</span></tt> entries.</p>
<p>You may use the <tt class="docutils literal"><span class="pre">-o</span> <span class="pre">{filename}</span></tt> option with <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">list</span></tt> to
save the output to a file.</p>
</div>
<div class="section" id="id9">
<h3>获取用户<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>To retrieve a specific user, key and capabilities, execute the
following:</p>
<div class="highlight-python"><pre>ceph auth get {TYPE.ID}</pre>
</div>
<p>For example:</p>
<div class="highlight-python"><pre>ceph auth get client.admin</pre>
</div>
<p>You may also use the <tt class="docutils literal"><span class="pre">-o</span> <span class="pre">{filename}</span></tt> option with <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">get</span></tt> to
save the output to a file. Developers may also execute the following:</p>
<div class="highlight-python"><pre>ceph auth export {TYPE.ID}</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">auth</span> <span class="pre">export</span></tt> command is identical to <tt class="docutils literal"><span class="pre">auth</span> <span class="pre">get</span></tt>, but also prints
out the internal <tt class="docutils literal"><span class="pre">auid</span></tt>, which isn&#8217;t relevant to end users.</p>
</div>
<div class="section" id="id10">
<h3>新增用户<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Adding a user creates a username (i.e., <tt class="docutils literal"><span class="pre">TYPE.ID</span></tt>), a secret key and
any capabilities included in the command you use to create the user.</p>
<p>A user&#8217;s key enables the user to authenticate with the Ceph Storage Cluster.
The user&#8217;s capabilities authorize the user to read, write, or execute on Ceph
monitors (<tt class="docutils literal"><span class="pre">mon</span></tt>), Ceph OSDs (<tt class="docutils literal"><span class="pre">osd</span></tt>) or Ceph Metadata  Servers (<tt class="docutils literal"><span class="pre">mds</span></tt>).</p>
<p>There are a few ways to add a user:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">add</span></tt>: This command is the canonical way to add a user. It
will create the user, generate a key and add any specified capabilities.</li>
<li><tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">get-or-create</span></tt>: This command is often the most convenient way
to create a user, because it returns a keyfile format with the user name
(in brackets) and the key. If the user already exists, this command
simply returns the user name and key in the keyfile format. You may use the
<tt class="docutils literal"><span class="pre">-o</span> <span class="pre">{filename}</span></tt> option to save the output to a file.</li>
<li><tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">get-or-create-key</span></tt>: This command is a convenient way to create
a user and return the user&#8217;s key (only). This is useful for clients that
need the key only (e.g., libvirt). If the user already exists, this command
simply returns the key. You may use the <tt class="docutils literal"><span class="pre">-o</span> <span class="pre">{filename}</span></tt> option to save the
output to a file.</li>
</ul>
<p>When creating client users, you may create a user with no capabilities. A user
with no capabilities is useless beyond mere authentication, because the client
cannot retrieve the cluster map from the monitor. However, you can create a
user with no capabilities if you wish to defer adding capabilities later using
the <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">caps</span></tt> command.</p>
<p>A typical user has at least read capabilities on the Ceph monitor and
read and write capability on Ceph OSDs. Additionally, a user&#8217;s OSD permissions
are often restricted to accessing a particular pool.</p>
<div class="highlight-python"><pre>ceph auth add client.john mon 'allow r' osd 'allow rw pool=liverpool'
ceph auth get-or-create client.paul mon 'allow r' osd 'allow rw pool=liverpool'
ceph auth get-or-create client.george mon 'allow r' osd 'allow rw pool=liverpool' -o george.keyring
ceph auth get-or-create-key client.ringo mon 'allow r' osd 'allow rw pool=liverpool' -o ringo.key</pre>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If you provide a user with capabilities to OSDs, but you DO NOT
restrict access to particular pools, the user will have access to ALL
pools in the cluster!</p>
</div>
</div>
<div class="section" id="id11">
<h3>修改用户能力<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">caps</span></tt> 命令可以用来修改指定用户的能力。设置新能力时会覆盖当前能力。查看用户当前的能力可以用 <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">get</span> <span class="pre">USERTYPE.USERID</span></tt> ；增加能力时应该加上当前已经有的能力，命令格式如下：</p>
<div class="highlight-python"><pre>ceph auth caps USERTYPE.USERID {daemon} 'allow [r|w|x|*|...] [pool={pool-name}] [namespace={namespace-name}]' [{daemon} 'allow [r|w|x|*|...] [pool={pool-name}] [namespace={namespace-name}]']</pre>
</div>
<p>例如：</p>
<div class="highlight-python"><pre>ceph auth get client.john
ceph auth caps client.john mon 'allow r' osd 'allow rw pool=liverpool'
ceph auth caps client.paul mon 'allow rw' osd 'allow rwx pool=liverpool'
ceph auth caps client.brian-manager mon 'allow *' osd 'allow *'</pre>
</div>
<p>To remove a capability, you may reset the capability. If you want the user
to have no access to a particular daemon that was previously set, specify
an empty string. For example:</p>
<div class="highlight-python"><pre>ceph auth caps client.ringo mon ' ' osd ' '</pre>
</div>
<p>关于能力请参考<a class="reference internal" href="#id4">授权（能力）</a>。</p>
</div>
<div class="section" id="id12">
<h3>删除用户<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>要删除一用户，用 <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">del</span></tt> 命令：</p>
<div class="highlight-python"><pre>ceph auth del {TYPE}.{ID}</pre>
</div>
<p>其中 <tt class="docutils literal"><span class="pre">{TYPE}</span></tt> 是 <tt class="docutils literal"><span class="pre">client</span></tt> 、 <tt class="docutils literal"><span class="pre">osd</span></tt> 、 <tt class="docutils literal"><span class="pre">mon</span></tt> 或 <tt class="docutils literal"><span class="pre">mds</span></tt> 之一， <tt class="docutils literal"><span class="pre">{ID}</span></tt> 是用户名或守护进程的 ID 。</p>
</div>
<div class="section" id="id13">
<h3>查看用户密钥<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>To print a user&#8217;s authentication key to standard output, execute the following:</p>
<div class="highlight-python"><pre>ceph auth print-key {TYPE}.{ID}</pre>
</div>
<p>Where <tt class="docutils literal"><span class="pre">{TYPE}</span></tt> is one of <tt class="docutils literal"><span class="pre">client</span></tt>, <tt class="docutils literal"><span class="pre">osd</span></tt>, <tt class="docutils literal"><span class="pre">mon</span></tt>, or <tt class="docutils literal"><span class="pre">mds</span></tt>,
and <tt class="docutils literal"><span class="pre">{ID}</span></tt> is the user name or ID of the daemon.</p>
<p>Printing a user&#8217;s key is useful when you need to populate client
software with a user&#8217;s key  (e.g., libvirt).</p>
<div class="highlight-python"><pre>mount -t ceph serverhost:/ mountpoint -o name=client.user,secret=`ceph auth print-key client.user`</pre>
</div>
</div>
<div class="section" id="id14">
<h3>导入用户<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>To import one or more users, use <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">import</span></tt> and
specify a keyring:</p>
<div class="highlight-python"><pre>ceph auth import -i /path/to/keyring</pre>
</div>
<p>For example:</p>
<div class="highlight-python"><pre>sudo ceph auth import -i /etc/ceph/ceph.keyring</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The ceph storage cluster will add new users, their keys and their
capabilities and will update existing users, their keys and their
capabilities.</p>
</div>
</div>
</div>
<div class="section" id="id15">
<h2>密钥环管理<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<p>When you access Ceph via a Ceph client, the Ceph client will look for a local
keyring. Ceph presets the <tt class="docutils literal"><span class="pre">keyring</span></tt> setting with the following four keyring
names by default so you don&#8217;t have to set them in your Ceph configuration file
unless you want to override the defaults (not recommended):</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">/etc/ceph/$cluster.$name.keyring</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/etc/ceph/$cluster.keyring</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/etc/ceph/keyring</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/etc/ceph/keyring.bin</span></tt></li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">$cluster</span></tt> metavariable is your Ceph cluster name as defined by the
name of the Ceph configuration file (i.e., <tt class="docutils literal"><span class="pre">ceph.conf</span></tt> means the cluster name
is <tt class="docutils literal"><span class="pre">ceph</span></tt>; thus, <tt class="docutils literal"><span class="pre">ceph.keyring</span></tt>). The <tt class="docutils literal"><span class="pre">$name</span></tt> metavariable is the user
type and user ID (e.g., <tt class="docutils literal"><span class="pre">client.admin</span></tt>; thus, <tt class="docutils literal"><span class="pre">ceph.client.admin.keyring</span></tt>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When executing commands that read or write to <tt class="docutils literal"><span class="pre">/etc/ceph</span></tt>, you may
need to use <tt class="docutils literal"><span class="pre">sudo</span></tt> to execute the command as <tt class="docutils literal"><span class="pre">root</span></tt>.</p>
</div>
<p>After you create a user (e.g., <tt class="docutils literal"><span class="pre">client.ringo</span></tt>), you must get the key and add
it to a keyring on a Ceph client so that the user can access the Ceph Storage
Cluster.</p>
<p>The <a class="reference internal" href="#id1">用户管理</a> section details how to list, get, add, modify and delete
users directly in the Ceph Storage Cluster. However, Ceph also provides the
<tt class="docutils literal"><span class="pre">ceph-authtool</span></tt> utility to allow you to manage keyrings from a Ceph client.</p>
<div class="section" id="id16">
<h3>创建密钥环<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p>When you use the procedures in the <a class="reference internal" href="#id7">管理用户</a> section to create users,
you need to provide user keys to the Ceph client(s) so that the Ceph client
can retrieve the key for the specified user and authenticate with the Ceph
Storage Cluster. Ceph Clients access keyrings to lookup a user name and
retrieve the user&#8217;s key.</p>
<p>The <tt class="docutils literal"><span class="pre">ceph-authtool</span></tt> utility allows you to create a keyring. To create an
empty keyring, use <tt class="docutils literal"><span class="pre">--create-keyring</span></tt> or <tt class="docutils literal"><span class="pre">-C</span></tt>. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ceph</span><span class="o">-</span><span class="n">authtool</span> <span class="o">--</span><span class="n">create</span><span class="o">-</span><span class="n">keyring</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">keyring</span>
</pre></div>
</div>
<p>When creating a keyring with multiple users, we recommend using the cluster name
(e.g., <tt class="docutils literal"><span class="pre">$cluster.keyring</span></tt>) for the keyring filename and saving it in the
<tt class="docutils literal"><span class="pre">/etc/ceph</span></tt> directory so that the <tt class="docutils literal"><span class="pre">keyring</span></tt> configuration default setting
will pick up the filename without requiring you to specify it in the local copy
of your Ceph configuration file. For example, create <tt class="docutils literal"><span class="pre">ceph.keyring</span></tt> by
executing the following:</p>
<div class="highlight-python"><pre>sudo ceph-authtool -C /etc/ceph/ceph.keyring</pre>
</div>
<p>When creating a keyring with a single user, we recommend using the cluster name,
the user type and the user name and saving it in the <tt class="docutils literal"><span class="pre">/etc/ceph</span></tt> directory.
For example, <tt class="docutils literal"><span class="pre">ceph.client.admin.keyring</span></tt> for the <tt class="docutils literal"><span class="pre">client.admin</span></tt> user.</p>
<p>To create a keyring in <tt class="docutils literal"><span class="pre">/etc/ceph</span></tt>, you must do so as <tt class="docutils literal"><span class="pre">root</span></tt>. This means
the file will have <tt class="docutils literal"><span class="pre">rw</span></tt> permissions for the <tt class="docutils literal"><span class="pre">root</span></tt> user only, which is
appropriate when the keyring contains administrator keys. However, if you
intend to use the keyring for a particular user or group of users, ensure
that you execute <tt class="docutils literal"><span class="pre">chown</span></tt> or <tt class="docutils literal"><span class="pre">chmod</span></tt> to establish appropriate keyring
ownership and access.</p>
</div>
<div class="section" id="id17">
<h3>把用户加入密钥环<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p>当你在 Ceph 存储集群中<a class="reference internal" href="#id18">创建用户</a>后，你可以用<a class="reference internal" href="#id9">获取用户</a>里面的方法获取此用户、及其密钥、能力，并存入一个密钥环文件。</p>
<p>When you only want to use one user per keyring, the <a class="reference internal" href="#id9">获取用户</a> procedure with
the <tt class="docutils literal"><span class="pre">-o</span></tt> option will save the output in the keyring file format. For example,
to create a keyring for the <tt class="docutils literal"><span class="pre">client.admin</span></tt> user, execute the following:</p>
<div class="highlight-python"><pre>sudo ceph auth get client.admin -o /etc/ceph/ceph.client.admin.keyring</pre>
</div>
<p>Notice that we use the recommended file format for an individual user.</p>
<p>When you want to import users to a keyring, you can use <tt class="docutils literal"><span class="pre">ceph-authtool</span></tt>
to specify the destination keyring and the source keyring.
For example:</p>
<div class="highlight-python"><pre>sudo ceph-authtool /etc/ceph/ceph.keyring --import-keyring /etc/ceph/ceph.client.admin.keyring</pre>
</div>
</div>
<div class="section" id="id18">
<h3>创建用户<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>Ceph provides the <a class="reference internal" href="#id18">创建用户</a> function to create a user directly in the Ceph
Storage Cluster. However, you can also create a user, keys and capabilities
directly on a Ceph client keyring. Then, you can import the user to the Ceph
Storage Cluster. For example:</p>
<div class="highlight-python"><pre>sudo ceph-authtool -n client.ringo --cap osd 'allow rwx' --cap mon 'allow rwx' /etc/ceph/ceph.keyring</pre>
</div>
<p>See <a class="reference internal" href="#id4">授权（能力）</a> for additional details on capabilities.</p>
<p>You can also create a keyring and add a new user to the keyring simultaneously.
For example:</p>
<div class="highlight-python"><pre>sudo ceph-authtool -C /etc/ceph/ceph.keyring -n client.ringo --cap osd 'allow rwx' --cap mon 'allow rwx' --gen-key</pre>
</div>
<p>In the foregoing scenarios, the new user <tt class="docutils literal"><span class="pre">client.ringo</span></tt> is only in the
keyring. To add the new user to the Ceph Storage Cluster, you must still add
the new user to the Ceph Storage Cluster.</p>
<div class="highlight-python"><pre>sudo ceph auth add client.ringo -i /etc/ceph/ceph.keyring</pre>
</div>
</div>
<div class="section" id="id19">
<h3>修改用户属性<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p>To modify the capabilities of a user record in a keyring, specify the keyring,
and the user followed by the capabilities. For example:</p>
<div class="highlight-python"><pre>sudo ceph-authtool /etc/ceph/ceph.keyring -n client.ringo --cap osd 'allow rwx' --cap mon 'allow rwx'</pre>
</div>
<p>To update the user to the Ceph Storage Cluster, you must update the user
in the keyring to the user entry in the the Ceph Storage Cluster.</p>
<div class="highlight-python"><pre>sudo ceph auth import -i /etc/ceph/ceph.keyring</pre>
</div>
<p>See <a class="reference internal" href="#id14">导入用户</a> for details on updating a Ceph Storage Cluster user
from a keyring.</p>
<p>You may also <a class="reference internal" href="#id11">修改用户能力</a> directly in the cluster, store the
results to a keyring file; then, import the keyring into your main
<tt class="docutils literal"><span class="pre">ceph.keyring</span></tt> file.</p>
</div>
</div>
<div class="section" id="id20">
<h2>命令行用法<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<p>Ceph 支持用户名和密钥的下列用法：</p>
<p><tt class="docutils literal"><span class="pre">--id</span></tt> | <tt class="docutils literal"><span class="pre">--user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body"><p class="first">Ceph 用一个类型和 ID（ 如 <tt class="docutils literal"><span class="pre">TYPE.ID</span></tt> 或 <tt class="docutils literal"><span class="pre">client.admin</span></tt> 、 <tt class="docutils literal"><span class="pre">client.user1</span></tt> ）来标识用户， <tt class="docutils literal"><span class="pre">id</span></tt> 、 <tt class="docutils literal"><span class="pre">name</span></tt> 、和 <tt class="docutils literal"><span class="pre">-n</span></tt> 选项可用于指定用户名（如 <tt class="docutils literal"><span class="pre">admin</span></tt> 、 <tt class="docutils literal"><span class="pre">user1</span></tt> 、 <tt class="docutils literal"><span class="pre">foo</span></tt> 等）的 ID 部分，你可以用 <tt class="docutils literal"><span class="pre">--id</span></tt> 指定用户并忽略类型，例如可用下列命令指定 <tt class="docutils literal"><span class="pre">client.foo</span></tt> 用户：</p>
<div class="last highlight-python"><pre>ceph --id foo --keyring /path/to/keyring health
ceph --user foo --keyring /path/to/keyring health</pre>
</div>
</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">--name</span></tt> | <tt class="docutils literal"><span class="pre">-n</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body"><p class="first">Ceph 用一个类型和 ID （如 <tt class="docutils literal"><span class="pre">TYPE.ID</span></tt> 或 <tt class="docutils literal"><span class="pre">client.admin</span></tt> 、 <tt class="docutils literal"><span class="pre">client.user1</span></tt> ）来标识用户， <tt class="docutils literal"><span class="pre">--name</span></tt> 和 <tt class="docutils literal"><span class="pre">-n</span></tt> 选项可用于指定完整的用户名，但必须指定用户类型（一般是 <tt class="docutils literal"><span class="pre">client</span></tt> ）和用户 ID ，例如：</p>
<div class="last highlight-python"><pre>ceph --name client.foo --keyring /path/to/keyring health
ceph -n client.foo --keyring /path/to/keyring health</pre>
</div>
</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">--keyring</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">描述:</th><td class="field-body"><p class="first">包含一或多个用户名、密钥的密钥环路径。 <tt class="docutils literal"><span class="pre">--secret</span></tt> 选项提供了相同功能，但它不能用于 RADOS 网关，其 <tt class="docutils literal"><span class="pre">--secret</span></tt> 另有用途。你可以用 <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">auth</span> <span class="pre">get-or-create</span></tt> 获取密钥环并保存在本地，然后您就可以改用其他用户而无需重指定密钥环路径了。</p>
<div class="last highlight-python"><pre>sudo rbd map --id foo --keyring /path/to/keyring mypool/myimage</pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id21">
<h2>局限性<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">cephx</span></tt> 协议提供 Ceph 客户端和服务器间的相互认证，并没打算认证人类用户或者应用程序。如果有访问控制需求，那必须用另外一种机制，它对于前端用户访问 Ceph 对象存储可能是特定的，其任务是确保只有此机器上可接受的用户和程序才能访问 Ceph 的对象存储。</p>
<p>用于认证 Ceph 客户端和服务器的密钥通常以纯文本存储在权限合适的文件里，并保存于可信主机上。</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">密钥存储为纯文本文件有安全缺陷，但很难避免，它给了 Ceph 可用的基本认证方法，设置 Ceph 时应该注意这些缺陷。</p>
</div>
<p>尤其是任意用户、特别是移动机器不应该和 Ceph 直接交互，因为这种用法要求把明文认证密钥存储在不安全的机器上，这些机器的丢失、或盗用将泄露可访问 Ceph 集群的密钥。</p>
<p>相比于允许潜在的欠安全机器直接访问 Ceph 对象存储，应该要求用户先登录安全有保障的可信机器，这台可信机器会给人们存储明文密钥。未来的 Ceph 版本也许会更彻底地解决这些特殊认证问题。</p>
<p>当前，没有任何 Ceph 认证协议保证传送中消息的私密性。所以，即使物理线路窃听者不能创建用户或修改它们，但可以听到、并理解客户端和服务器间发送过的所有数据。此外， Ceph 没有可加密用户数据的选项，当然，用户可以手动加密、然后把它们存在对象库里，但 Ceph 没有自己加密对象的功能。在 Ceph 里存储敏感数据的用户应该考虑存入 Ceph 集群前先加密。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装（手动）</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph 存储集群</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../configuration/">配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployment/">部署</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">运维</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../operating/">操纵集群</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monitoring/">监控集群</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monitoring-osd-pg/">监控 OSD 和归置组</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">用户管理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">背景</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id3">用户</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id4">授权（能力）</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id5">存储池</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id6">命名空间</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id7">管理用户</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id8">罗列用户</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id9">获取用户</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id10">新增用户</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id11">修改用户能力</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id12">删除用户</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id13">查看用户密钥</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id14">导入用户</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id15">密钥环管理</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id16">创建密钥环</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id17">把用户加入密钥环</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id18">创建用户</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id19">修改用户属性</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id20">命令行用法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">局限性</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../data-placement/">数据归置概览</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pools/">存储池</a></li>
<li class="toctree-l3"><a class="reference internal" href="../erasure-code/">纠删码</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cache-tiering/">分级缓存</a></li>
<li class="toctree-l3"><a class="reference internal" href="../placement-groups/">归置组</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crush-map/">CRUSH 图</a></li>
<li class="toctree-l3"><a class="reference internal" href="../add-or-rm-osds/">增加/删除 OSD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../add-or-rm-mons/">增加/删除监视器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../control/">命令参考</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/community/">Ceph 社区</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-mon/">监视器故障排除</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-osd/">OSD 故障排除</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-pg/">归置组排障</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/log-and-debug/">日志记录和调试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/cpu-profiling/">CPU 剖析</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/memory-profiling/">内存剖析</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../man/">手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph 版本</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../data-placement/" title="数据归置概览"
             >next</a> |</li>
        <li class="right" >
          <a href="../monitoring-osd-pg/" title="监控 OSD 和归置组"
             >previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../" >集群运维</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>
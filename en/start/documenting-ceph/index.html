
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Documenting Ceph &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="documenting-ceph">
<h1>Documenting Ceph<a class="headerlink" href="#documenting-ceph" title="Permalink to this headline">¶</a></h1>
<p>The <strong>easiest way</strong> to help the Ceph project is to contribute to the
documentation. As the Ceph user base grows and the development pace quickens, an
increasing number of people are updating the documentation and adding new
information. Even small contributions like fixing spelling errors or clarifying
instructions will help the Ceph project immensely.</p>
<p>The Ceph documentation source resides in the <tt class="docutils literal"><span class="pre">ceph/docs</span></tt> directory of the Ceph
repository, and Python Sphinx renders the source into HTML and manpages. The
<a class="reference external" href="http://ceph.com/docs">http://ceph.com/docs</a> link currenly displays the  <tt class="docutils literal"><span class="pre">master</span></tt> branch by default,
but you may view documentation for older branches (e.g., <tt class="docutils literal"><span class="pre">argonaut</span></tt>) or future
branches (e.g., <tt class="docutils literal"><span class="pre">next</span></tt>) as well as work-in-progress branches by substituting
<tt class="docutils literal"><span class="pre">master</span></tt> with the branch name you prefer.</p>
<div class="section" id="making-contributions">
<h2>Making Contributions<a class="headerlink" href="#making-contributions" title="Permalink to this headline">¶</a></h2>
<p>Making a documentation contribution generally involves the same procedural
sequence as making a code contribution, except that you must build documentation
source instead of compiling program source. The sequence includes the following
steps:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#get-the-source">Get the Source</a></li>
<li><a class="reference internal" href="#select-a-branch">Select a Branch</a></li>
<li><a class="reference internal" href="#make-a-change">Make a Change</a></li>
<li><a class="reference internal" href="#build-the-source">Build the Source</a></li>
<li><a class="reference internal" href="#commit-the-change">Commit the Change</a></li>
<li><a class="reference internal" href="#push-the-change">Push the Change</a></li>
<li><a class="reference internal" href="#make-a-pull-request">Make a Pull Request</a></li>
<li><a class="reference internal" href="#notify-the-relevant-person">Notify the Relevant Person</a></li>
</ol>
<div class="section" id="get-the-source">
<h3>Get the Source<a class="headerlink" href="#get-the-source" title="Permalink to this headline">¶</a></h3>
<p>Ceph documentation lives in the Ceph repository right alongside the Ceph source
code under the <tt class="docutils literal"><span class="pre">ceph/doc</span></tt> directory. For details on github and Ceph,
see <a class="reference internal" href="../../../start/get-involved/#get-involved"><em>加入 Ceph 社区！</em></a>.</p>
<p>The most common way to make contributions is to use the <a class="reference external" href="https://help.github.com/articles/using-pull-requests">Fork and Pull</a>
approach. You must:</p>
<ol class="arabic">
<li><p class="first">Install git locally. For Debian/Ubuntu, execute:</p>
<div class="highlight-python"><pre>sudo apt-get install git</pre>
</div>
<p>For Fedora, execute:</p>
<div class="highlight-python"><pre>sudo yum install git</pre>
</div>
<p>For CentOS/RHEL, execute:</p>
<div class="highlight-python"><pre>sudo yum install git</pre>
</div>
</li>
<li><p class="first">Ensure your <tt class="docutils literal"><span class="pre">.gitconfig</span></tt> file has your name and email address.</p>
<div class="highlight-python"><pre>[user]
   email = {your-email-address}
   name = {your-name}</pre>
</div>
<p>For example:</p>
<div class="highlight-python"><pre>git config --global user.name "John Doe"
git config --global user.email johndoe@example.com</pre>
</div>
</li>
<li><p class="first">Create a  <a class="reference external" href="http://github.com">github</a> account (if you don&#8217;t have one).</p>
</li>
<li><p class="first">Fork the Ceph project. See <a class="reference external" href="https://github.com/ceph/ceph">https://github.com/ceph/ceph</a>.</p>
</li>
<li><p class="first">Clone your fork of the Ceph project to your local host.</p>
</li>
</ol>
<p>Ceph organizes documentation into an information architecture primarily by its
main components.</p>
<ul class="simple">
<li><strong>Ceph Storage Cluster:</strong> The Ceph Storage Cluster documentation resides
under the <tt class="docutils literal"><span class="pre">doc/rados</span></tt> directory.</li>
<li><strong>Ceph Block Device:</strong> The Ceph Block Device documentation resides under
the <tt class="docutils literal"><span class="pre">doc/rbd</span></tt> directory.</li>
<li><strong>Ceph Object Storage:</strong> The Ceph Object Storage documentation resides under
the <tt class="docutils literal"><span class="pre">doc/radosgw</span></tt> directory.</li>
<li><strong>Ceph Filesystem:</strong> The Ceph Filesystem documentation resides under the
<tt class="docutils literal"><span class="pre">doc/cephfs</span></tt> directory.</li>
<li><strong>Installation (Quick):</strong> Quick start documentation resides under the
<tt class="docutils literal"><span class="pre">doc/start</span></tt> directory.</li>
<li><strong>Installation (Manual):</strong> Manual installation documentation resides under
the <tt class="docutils literal"><span class="pre">doc/install</span></tt> directory.</li>
<li><strong>Manpage:</strong> Manpage source resides under the <tt class="docutils literal"><span class="pre">doc/man</span></tt> directory.</li>
<li><strong>Developer:</strong> Developer documentation resides under the <tt class="docutils literal"><span class="pre">doc/dev</span></tt>
directory.</li>
<li><strong>Images:</strong> If you include images such as JPEG or PNG files, you should
store them under the <tt class="docutils literal"><span class="pre">doc/images</span></tt> directory.</li>
</ul>
</div>
<div class="section" id="select-a-branch">
<h3>Select a Branch<a class="headerlink" href="#select-a-branch" title="Permalink to this headline">¶</a></h3>
<p>When you make small changes to the documentation, such as fixing typographical
errors or clarifying explanations, use the <tt class="docutils literal"><span class="pre">master</span></tt> branch (default). You
should also use the <tt class="docutils literal"><span class="pre">master</span></tt> branch when making contributions to features that
are in the current release. <tt class="docutils literal"><span class="pre">master</span></tt> is the most commonly used branch.</p>
<div class="highlight-python"><pre>git checkout master</pre>
</div>
<p>When you make changes to documentation that affect an upcoming release, use
the <tt class="docutils literal"><span class="pre">next</span></tt> branch. <tt class="docutils literal"><span class="pre">next</span></tt> is the second most commonly used branch.</p>
<div class="highlight-python"><pre>git checkout next</pre>
</div>
<p>When you are making substantial contributions such as new features that are not
yet in the current release; if your contribution is related to an issue with a
tracker ID; or, if you want to see your documentation rendered on the Ceph.com
website before it gets merged into the <tt class="docutils literal"><span class="pre">master</span></tt> branch, you should create a
branch. To distinguish branches that include only documentation updates, we
prepend them with <tt class="docutils literal"><span class="pre">wip-doc</span></tt> by convention, following the form
<tt class="docutils literal"><span class="pre">wip-doc-{your-branch-name}</span></tt>. If the branch relates to an issue filed in
<a class="reference external" href="http://tracker.ceph.com/issues">http://tracker.ceph.com/issues</a>, the branch name incorporates the issue number.
For example, if a documentation branch is a fix for issue #4000, the branch name
should be <tt class="docutils literal"><span class="pre">wip-doc-4000</span></tt> by convention and the relevant tracker URL will be
<a class="reference external" href="http://tracker.ceph.com/issues/4000">http://tracker.ceph.com/issues/4000</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please do not mingle documentation contributions and source code
contributions in a single pull request. Editors review the documentation
and engineers review source code changes. When you keep documentation
pull requests separate from source code pull requests, it simplifies the
process and we won&#8217;t have to ask you to resubmit the requests separately.</p>
</div>
<p>Before you create your branch name, ensure that it doesn&#8217;t already exist in the
local or remote repository.</p>
<div class="highlight-python"><pre>git branch -a | grep wip-doc-{your-branch-name}</pre>
</div>
<p>If it doesn&#8217;t exist, create your branch:</p>
<div class="highlight-python"><pre>git checkout -b wip-doc-{your-branch-name}</pre>
</div>
</div>
<div class="section" id="make-a-change">
<h3>Make a Change<a class="headerlink" href="#make-a-change" title="Permalink to this headline">¶</a></h3>
<p>Modifying a document involves opening a restructuredText file, changing
its contents, and saving the changes. See <a class="reference internal" href="#documentation-style-guide">Documentation Style Guide</a> for
details on syntax requirements.</p>
<p>Adding a document involves creating a new restructuredText file under the
<tt class="docutils literal"><span class="pre">doc</span></tt> directory or its subdirectories and saving the file with a <tt class="docutils literal"><span class="pre">*.rst</span></tt>
file extension. You must also include a reference to the  document: a hyperlink
or a table of contents entry. The <tt class="docutils literal"><span class="pre">index.rst</span></tt> file of a top-level directory
usually contains a TOC, where you can add the new file name. All documents must
have a title. See <a class="reference internal" href="#headings">Headings</a> for details.</p>
<p>Your new document doesn&#8217;t get tracked by <tt class="docutils literal"><span class="pre">git</span></tt> automatically. When you want
to add the document to the repository,  you must use <tt class="docutils literal"><span class="pre">git</span> <span class="pre">add</span>
<span class="pre">{path-to-filename}</span></tt>. For example, from the top level  directory of the
repository, adding an <tt class="docutils literal"><span class="pre">example.rst</span></tt> file to the <tt class="docutils literal"><span class="pre">rados</span></tt> subdirectory would
look like this:</p>
<div class="highlight-python"><pre>git add doc/rados/example.rst</pre>
</div>
<p>Deleting a document involves removing it from the repository with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rm</span>
<span class="pre">{path-to-filename}</span></tt>. For example:</p>
<div class="highlight-python"><pre>git rm doc/rados/example.rst</pre>
</div>
<p>You must also remove any reference to a deleted document from other documents.</p>
</div>
<div class="section" id="build-the-source">
<h3>Build the Source<a class="headerlink" href="#build-the-source" title="Permalink to this headline">¶</a></h3>
<p>To build the documentation, navigate to the <tt class="docutils literal"><span class="pre">ceph</span></tt> repository directory:</p>
<div class="highlight-python"><pre>cd ceph</pre>
</div>
<p>To build the documentation on Debian/Ubuntu, execute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">admin</span><span class="o">/</span><span class="n">build</span><span class="o">-</span><span class="n">doc</span>
</pre></div>
</div>
<p>To build the documentation on Fedora, execute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">admin</span><span class="o">/</span><span class="n">build</span><span class="o">-</span><span class="n">doc</span>
</pre></div>
</div>
<p>To build the documentation on CentOS/RHEL, execute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">admin</span><span class="o">/</span><span class="n">build</span><span class="o">-</span><span class="n">doc</span>
</pre></div>
</div>
<p>Executing <tt class="docutils literal"><span class="pre">admin/build-doc</span></tt> will create a <tt class="docutils literal"><span class="pre">build-doc</span></tt> directory under <tt class="docutils literal"><span class="pre">ceph</span></tt>.
You may need to create a directory under <tt class="docutils literal"><span class="pre">ceph/build-doc</span></tt> for output of Javadoc
files.</p>
<div class="highlight-python"><pre>mkdir -p output/html/api/libcephfs-java/javadoc</pre>
</div>
<p>The build script <tt class="docutils literal"><span class="pre">build-doc</span></tt> will produce an output of errors and warnings.
You MUST fix errors in documents you modified before committing a change, and you
SHOULD fix warnings that are related to syntax you modified.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">You must validate ALL HYPERLINKS. If a hyperlink is broken,
it automatically breaks the build!</p>
</div>
<p>Once you build the documentation set, you may navigate to the source directory
to view it:</p>
<div class="highlight-python"><pre>cd build-doc/output</pre>
</div>
<p>There should be an <tt class="docutils literal"><span class="pre">html</span></tt> directory and a <tt class="docutils literal"><span class="pre">man</span></tt> directory containing
documentation in HTML and manpage formats respectively.</p>
<div class="section" id="build-the-source-first-time">
<h4>Build the Source (First Time)<a class="headerlink" href="#build-the-source-first-time" title="Permalink to this headline">¶</a></h4>
<p>Ceph uses Python Sphinx, which is generally distribution agnostic. The first
time you build Ceph documentation, it will generate a doxygen XML tree, which
is a bit time consuming.</p>
<p>Python Sphinx does have some dependencies that vary across distributions. The
first time you build the documentation, the script will notify you if you do not
have the dependencies installed. To run Sphinx and build documentation successfully,
the following packages are required:</p>
<style type="text/css">div.body h3{margin:5px 0px 0px 0px;}</style>
<table cellpadding="10"><colgroup><col width="30%"><col width="30%"><col width="30%"></colgroup><tbody valign="top"><tr><td><h3>Debian/Ubuntu</h3><ul class="simple">
<li>gcc</li>
<li>python-dev</li>
<li>python-pip</li>
<li>python-virtualenv</li>
<li>python-sphinx</li>
<li>libxml2-dev</li>
<li>libxslt1-dev</li>
<li>doxygen</li>
<li>graphviz</li>
<li>ant</li>
<li>ditaa</li>
</ul>
</td><td><h3>Fedora</h3><ul class="simple">
<li>gcc</li>
<li>python-devel</li>
<li>python-pip</li>
<li>python-virtualenv</li>
<li>python-docutils</li>
<li>python-jinja2</li>
<li>python-pygments</li>
<li>python-sphinx</li>
<li>libxml2-devel</li>
<li>libxslt1-devel</li>
<li>doxygen</li>
<li>graphviz</li>
<li>ant</li>
<li>ditaa</li>
</ul>
</td><td><h3>CentOS/RHEL</h3><ul class="simple">
<li>gcc</li>
<li>python-devel</li>
<li>python-pip</li>
<li>python-virtualenv</li>
<li>python-docutils</li>
<li>python-jinja2</li>
<li>python-pygments</li>
<li>python-sphinx</li>
<li>libxml2-dev</li>
<li>libxslt1-dev</li>
<li>doxygen</li>
<li>graphviz</li>
<li>ant</li>
</ul>
</td></tr></tbody></table><p>Install each dependency that isn&#8217;t installed on your host. For Debian/Ubuntu
distributions, execute the following:</p>
<div class="highlight-python"><pre>sudo apt-get install gcc python-dev python-pip python-virtualenv libxml2-dev libxslt-dev doxygen graphviz ant ditaa
sudo apt-get install python-sphinx</pre>
</div>
<p>For Fedora distributions, execute the following:</p>
<div class="highlight-python"><pre>sudo yum install gcc python-devel python-pip python-virtualenv libxml2-devel libxslt-devel doxygen graphviz ant
sudo pip install html2text
sudo yum install python-jinja2 python-pygments python-docutils python-sphinx
sudo yum install jericho-html ditaa</pre>
</div>
<p>For CentOS/RHEL distributions, it is recommended to have <tt class="docutils literal"><span class="pre">epel</span></tt> (Extra
Packages for Enterprise Linux) repository as it provides some extra packages
which are not available in the default repository. To install <tt class="docutils literal"><span class="pre">epel</span></tt>, execute
the following:</p>
<div class="highlight-python"><pre>wget http://ftp.riken.jp/Linux/fedora/epel/7/x86_64/e/epel-release-7-2.noarch.rpm
sudo yum install epel-release-7-2.noarch.rpm</pre>
</div>
<p>For CentOS/RHEL distributions, execute the following:</p>
<div class="highlight-python"><pre>sudo yum install gcc python-devel python-pip python-virtualenv libxml2-devel libxslt-devel doxygen graphviz ant
sudo pip install html2text</pre>
</div>
<p>For CentOS/RHEL distributions, the remaining python packages are not available in
the default and <tt class="docutils literal"><span class="pre">epel</span></tt> repositories. So, use <a class="reference external" href="http://rpmfind.net/">http://rpmfind.net/</a> to find the
packages. Then, download them from a mirror and install them. For example:</p>
<div class="highlight-python"><pre>wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/python-jinja2-2.7.2-2.el7.noarch.rpm
sudo yum install python-jinja2-2.7.2-2.el7.noarch.rpm
wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/python-pygments-1.4-9.el7.noarch.rpm
sudo yum install python-pygments-1.4-9.el7.noarch.rpm
wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/python-docutils-0.11-0.2.20130715svn7687.el7.noarch.rpm
sudo yum install python-docutils-0.11-0.2.20130715svn7687.el7.noarch.rpm
wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/python-sphinx-1.1.3-8.el7.noarch.rpm
sudo yum install python-sphinx-1.1.3-8.el7.noarch.rpm</pre>
</div>
<p>Ceph documentation makes extensive use of <a class="reference external" href="http://ditaa.sourceforge.net/">ditaa</a>, which isn&#8217;t presently built
for CentOS/RHEL7. You must install <tt class="docutils literal"><span class="pre">ditaa</span></tt> if you are making changes to
<tt class="docutils literal"><span class="pre">ditaa</span></tt> diagrams so that you can verify that they render properly before you
commit new or modified <tt class="docutils literal"><span class="pre">ditaa</span></tt> diagrams. You may retrieve compatible required
packages for CentOS/RHEL distributions and install them manually. To run <tt class="docutils literal"><span class="pre">ditaa</span></tt>
on CentOS/RHEL7, following dependencies are required:</p>
<ul class="simple">
<li>jericho-html</li>
<li>jai-imageio-core</li>
<li>batik</li>
</ul>
<p>Use <a class="reference external" href="http://rpmfind.net/">http://rpmfind.net/</a> to find compatible <tt class="docutils literal"><span class="pre">ditaa</span></tt> and the dependencies.
Then, download them from a mirror and install them. For example:</p>
<div class="highlight-python"><pre>wget ftp://rpmfind.net/linux/fedora/linux/releases/20/Everything/x86_64/os/Packages/j/jericho-html-3.2-6.fc20.noarch.rpm
sudo yum install jericho-html-3.2-6.fc20.noarch.rpm
wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/jai-imageio-core-1.2-0.14.20100217cvs.el7.noarch.rpm
sudo yum install jai-imageio-core-1.2-0.14.20100217cvs.el7.noarch.rpm
wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/batik-1.8-0.12.svn1230816.el7.noarch.rpm
sudo yum install batik-1.8-0.12.svn1230816.el7.noarch.rpm
wget ftp://rpmfind.net/linux/fedora/linux/releases/20/Everything/x86_64/os/Packages/d/ditaa-0.9-10.r74.fc20.noarch.rpm
sudo yum install ditaa-0.9-10.r74.fc20.noarch.rpm</pre>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Do not install the <tt class="docutils literal"><span class="pre">fc21</span></tt> rpm for <tt class="docutils literal"><span class="pre">ditaa</span></tt> as it uses a <tt class="docutils literal"><span class="pre">JRE</span></tt>
newer than the default installed in CentOS/RHEL7 which causes a conflict, throws
an <tt class="docutils literal"><span class="pre">Exception</span></tt> and doesn&#8217;t allow the application to run.</p>
</div>
<p>Once you have installed all these packages, build the documentation by following
the steps given in <tt class="docutils literal"><span class="pre">Build</span> <span class="pre">the</span> <span class="pre">Source</span></tt>.</p>
</div>
</div>
<div class="section" id="commit-the-change">
<h3>Commit the Change<a class="headerlink" href="#commit-the-change" title="Permalink to this headline">¶</a></h3>
<p>Ceph documentation commits are simple, but follow a strict convention:</p>
<ul class="simple">
<li>A commit SHOULD have 1 file per commit (it simplifies rollback). You MAY
commit multiple files with related changes. Unrelated changes SHOULD NOT
be put into the same commit.</li>
<li>A commit MUST have a comment.</li>
<li>A commit comment MUST be prepended with <tt class="docutils literal"><span class="pre">doc:</span></tt>. (strict)</li>
<li>The comment summary MUST be one line only. (strict)</li>
<li>Additional comments MAY follow a blank line after the summary,
but should be terse.</li>
<li>A commit MAY include <tt class="docutils literal"><span class="pre">Fixes:</span> <span class="pre">#{bug</span> <span class="pre">number}</span></tt>.</li>
<li>Commits MUST include <tt class="docutils literal"><span class="pre">Signed-off-by:</span> <span class="pre">Firstname</span> <span class="pre">Lastname</span> <span class="pre">&lt;email&gt;</span></tt>. (strict)</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Follow the foregoing convention particularly where it says
<tt class="docutils literal"><span class="pre">(strict)</span></tt> or you will be asked to modify your commit to comply with
this convention.</p>
</div>
<p>The following is a common commit comment (preferred):</p>
<div class="highlight-python"><pre>doc: Fixes a spelling error and a broken hyperlink.

Signed-off-by: John Doe &lt;john.doe@gmail.com&gt;</pre>
</div>
<p>The following comment includes a reference to a bug.</p>
<div class="highlight-python"><pre>doc: Fixes a spelling error and a broken hyperlink.

Fixes: #1234

Signed-off-by: John Doe &lt;john.doe@gmail.com&gt;</pre>
</div>
<p>The following comment includes a terse sentence following the comment summary.
There is a carriage return between the summary line and the description:</p>
<div class="highlight-python"><pre>doc: Added mon setting to monitor config reference

Describes 'mon setting', which is a new setting added
to config_opts.h.

Signed-off-by: John Doe &lt;john.doe@gmail.com&gt;</pre>
</div>
<p>To commit changes, execute the following:</p>
<div class="highlight-python"><pre>git commit -a</pre>
</div>
<p>An easy way to manage your documentation commits is to use visual tools for
<tt class="docutils literal"><span class="pre">git</span></tt>. For example, <tt class="docutils literal"><span class="pre">gitk</span></tt> provides a graphical interface for viewing the
repository history, and <tt class="docutils literal"><span class="pre">git-gui</span></tt> provides a graphical interface for viewing
your uncommitted changes, staging them for commit, committing the changes and
pushing them to your forked Ceph repository.</p>
<p>For Debian/Ubuntu, execute:</p>
<div class="highlight-python"><pre>sudo apt-get install gitk git-gui</pre>
</div>
<p>For Fedora, execute:</p>
<div class="highlight-python"><pre>sudo yum install gitk git-gui</pre>
</div>
<p>In CentOS/RHEL7, <tt class="docutils literal"><span class="pre">gitk</span></tt> and <tt class="docutils literal"><span class="pre">git-gui</span></tt> are not available in default or
<tt class="docutils literal"><span class="pre">epel</span></tt> repository. So, use <a class="reference external" href="http://rpmfind.net/">http://rpmfind.net/</a> to find them. Then, download
them from a mirror and install them. For example:</p>
<div class="highlight-python"><pre>wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/gitk-1.8.3.1-4.el7.noarch.rpm
sudo yum install gitk-1.8.3.1-4.el7.noarch.rpm
wget ftp://rpmfind.net/linux/centos/7.0.1406/os/x86_64/Packages/git-gui-1.8.3.1-4.el7.noarch.rpm
sudo yum install git-gui-1.8.3.1-4.el7.noarch.rpm</pre>
</div>
<p>Then, execute:</p>
<div class="highlight-python"><pre>cd {git-ceph-repo-path}
gitk</pre>
</div>
<p>Finally, select <strong>File-&gt;Start git gui</strong> to activate the graphical user interface.</p>
</div>
<div class="section" id="push-the-change">
<h3>Push the Change<a class="headerlink" href="#push-the-change" title="Permalink to this headline">¶</a></h3>
<p>Once you have one or more commits, you must push them from the local copy of the
repository to <tt class="docutils literal"><span class="pre">github</span></tt>. A graphical tool like <tt class="docutils literal"><span class="pre">git-gui</span></tt> provides a user
interface for pushing to the repository. If you created a branch previously:</p>
<div class="highlight-python"><pre>git push origin wip-doc-{your-branch-name}</pre>
</div>
<p>Otherwise:</p>
<div class="highlight-python"><pre>git push</pre>
</div>
</div>
<div class="section" id="make-a-pull-request">
<h3>Make a Pull Request<a class="headerlink" href="#make-a-pull-request" title="Permalink to this headline">¶</a></h3>
<p>As noted earlier, you can make documentation contributions using the <a class="reference external" href="https://help.github.com/articles/using-pull-requests">Fork and
Pull</a> approach.</p>
</div>
<div class="section" id="notify-the-relevant-person">
<h3>Notify the Relevant Person<a class="headerlink" href="#notify-the-relevant-person" title="Permalink to this headline">¶</a></h3>
<p>After you make a pull request, notify the relevant person. For general
documentation pull requests, notify <a class="reference external" href="mailto:jowilkin&#37;&#52;&#48;redhat&#46;com">John Wilkins</a>.</p>
</div>
</div>
<div class="section" id="documentation-style-guide">
<h2>Documentation Style Guide<a class="headerlink" href="#documentation-style-guide" title="Permalink to this headline">¶</a></h2>
<p>One objective of the Ceph documentation project is to ensure the readability of
the documentation in both native restructuredText format and its rendered
formats such as HTML. Navigate to your Ceph repository and view a document in
its native format. You may notice that it is generally as legible in a terminal
as it is in its rendered HTML format. Additionally, you may also notice that
diagrams in <tt class="docutils literal"><span class="pre">ditaa</span></tt> format also render reasonably well in text mode.</p>
<div class="highlight-python"><pre>cat doc/architecture.rst | less</pre>
</div>
<p>Review the following style guides to maintain this consistency.</p>
<div class="section" id="headings">
<h3>Headings<a class="headerlink" href="#headings" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><strong>Document Titles:</strong> Document titles use the <tt class="docutils literal"><span class="pre">=</span></tt> character overline and
underline with a leading and trailing space on the title text line.
See <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickstart.html#document-title-subtitle">Document Title</a> for details.</li>
<li><strong>Section Titles:</strong> Section tiles use the <tt class="docutils literal"><span class="pre">=</span></tt> character underline with no
leading or trailing spaces for text. Two carriage returns should precede a
section title (unless an inline reference precedes it). See <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickstart.html#sections">Sections</a> for
details.</li>
<li><strong>Subsection Titles:</strong> Subsection titles use the <tt class="docutils literal"><span class="pre">_</span></tt> character underline
with no leading or trailing spaces for text.  Two carriage returns should
precede a subsection title (unless an inline reference precedes it).</li>
</ol>
</div>
<div class="section" id="text-body">
<h3>Text Body<a class="headerlink" href="#text-body" title="Permalink to this headline">¶</a></h3>
<p>As a general rule, we prefer text to wrap at column 80 so that it is legible in
a command line interface without leading or trailing white space. Where
possible, we prefer to maintain this convention with text, lists, literal text
(exceptions allowed), tables, and <tt class="docutils literal"><span class="pre">ditaa</span></tt> graphics.</p>
<ol class="arabic">
<li><p class="first"><strong>Paragraphs</strong>: Paragraphs have a leading and a trailing carriage return,
and should be 80 characters wide or less so that the documentation can be
read in native format in a command line terminal.</p>
</li>
<li><p class="first"><strong>Literal Text:</strong> To create an example of literal text (e.g., command line
usage), terminate the preceding paragraph with <tt class="docutils literal"><span class="pre">::</span></tt> or enter a carriage
return to create an empty line after the preceding paragraph; then, enter
<tt class="docutils literal"><span class="pre">::</span></tt> on a separate line followed by another empty line. Then, begin the
literal text with tab indentation (preferred) or space indentation of 3
characters.</p>
</li>
<li><p class="first"><strong>Indented Text:</strong> Indented text such as bullet points
(e.g., <tt class="docutils literal"><span class="pre">-</span> <span class="pre">some</span> <span class="pre">text</span></tt>) may span multiple lines. The text of subsequent
lines should begin at the same character position as the text of the
indented text (less numbers, bullets, etc.).</p>
<p>Indented text may include literal text examples. Whereas, text indentation
should be done with spaces, literal text examples should be indented with
tabs. This convention enables you to add an additional indented paragraph
following a literal example by leaving a blank line and beginning the
subsequent paragraph with space indentation.</p>
</li>
<li><p class="first"><strong>Numbered Lists:</strong> Numbered lists should use autonumbering by starting
a numbered indent with <tt class="docutils literal"><span class="pre">#.</span></tt> instead of the actual number so that
numbered paragraphs can be repositioned without requiring manual
renumbering.</p>
</li>
<li><p class="first"><strong>Code Examples:</strong> Ceph supports the use of the
<tt class="docutils literal"><span class="pre">..</span> <span class="pre">code-block::&lt;language&gt;</span></tt> role, so that you can add highlighting to
source examples. This is preferred for source code. However, use of this
tag will cause autonumbering to restart at 1 if it is used as an example
within a numbered list. See <a class="reference external" href="http://sphinx-doc.org/markup/code.html">Showing code examples</a> for details.</p>
</li>
</ol>
</div>
<div class="section" id="paragraph-level-markup">
<h3>Paragraph Level Markup<a class="headerlink" href="#paragraph-level-markup" title="Permalink to this headline">¶</a></h3>
<p>The Ceph project uses <a class="reference external" href="http://sphinx-doc.org/markup/para.html">paragraph level markup</a> to highlight points.</p>
<ol class="arabic simple">
<li><strong>Tip:</strong> Use the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">tip::</span></tt> directive to provide additional information
that assists the reader or steers the reader away from trouble.</li>
<li><strong>Note</strong>: Use the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">note::</span></tt> directive to highlight an important point.</li>
<li><strong>Important:</strong> Use the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">important::</span></tt> directive to highlight important
requirements or caveats (e.g., anything that could lead to data loss). Use
this directive sparingly, because it renders in red.</li>
<li><strong>Version Added:</strong> Use the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">versionadded::</span></tt> directive for new features
or configuration settings so that users know the minimum release for using
a feature.</li>
<li><strong>Version Changed:</strong> Use the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">versionchanged::</span></tt> directive for changes
in usage or configuration settings.</li>
<li><strong>Deprecated:</strong> Use the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">deprecated::</span></tt> directive when CLI usage,
a feature or a configuration setting is no longer preferred or will be
discontinued.</li>
<li><strong>Topic:</strong> Use the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">topic::</span></tt> directive to encapsulate text that is
outside the main flow of the document. See the <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#topic">topic directive</a> for
additional details.</li>
</ol>
</div>
<div class="section" id="toc-and-hyperlinks">
<h3>TOC and Hyperlinks<a class="headerlink" href="#toc-and-hyperlinks" title="Permalink to this headline">¶</a></h3>
<p>All documents must be linked from another document or a table of contents,
otherwise you will receive a warning when building the documentation.</p>
<p>The Ceph project uses the <tt class="docutils literal"><span class="pre">..</span> <span class="pre">toctree::</span></tt> directive. See <a class="reference external" href="http://sphinx-doc.org/markup/toctree.html">The TOC tree</a>
for details. When rendering a TOC, consider specifying the <tt class="docutils literal"><span class="pre">:maxdepth:</span></tt>
parameter so the rendered TOC is reasonably terse.</p>
<p>Document authors should prefer to use the <tt class="docutils literal"><span class="pre">:ref:</span></tt> syntax where a link target
contains a specific unique identifier (e.g., <tt class="docutils literal"><span class="pre">..</span> <span class="pre">_unique-target-id:</span></tt>), and  a
reference to the target specifically references the target  (e.g.,
<tt class="docutils literal"><span class="pre">:ref:`unique-target-id`</span></tt>) so that if source files are moved or the
information architecture changes, the links will still work. See
<a class="reference external" href="http://sphinx-doc.org/markup/inline.html#ref-role">Cross referencing arbitrary locations</a> for details.</p>
<p>Ceph documentation also uses the backtick (accent grave) character followed by
the link text, another backtick and an underscore. Sphinx allows you to
incorporate the link destination inline; however, we prefer to use the use the
<tt class="docutils literal"><span class="pre">..</span> <span class="pre">_Link</span> <span class="pre">Text:</span> <span class="pre">../path</span></tt> convention at the bottom of the document, because it
improves the readability of the document in a command line interface.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装（手动）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">发布时间表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>
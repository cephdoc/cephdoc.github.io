
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OSD Config Reference &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../../" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="osd-config-reference">
<h1>OSD Config Reference<a class="headerlink" href="#osd-config-reference" title="Permalink to this headline">¶</a></h1>
<p id="index-0">You can configure Ceph OSD Daemons in the Ceph configuration file, but Ceph OSD
Daemons can use the default values and a very minimal configuration. A minimal
Ceph OSD Daemon configuration sets <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">journal</span> <span class="pre">size</span></tt> and <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">host</span></tt>,  and
uses default values for nearly everything else.</p>
<p>Ceph OSD Daemons are numerically identified in incremental fashion, beginning
with <tt class="docutils literal"><span class="pre">0</span></tt> using the following convention.</p>
<div class="highlight-python"><pre>osd.0
osd.1
osd.2</pre>
</div>
<p>In a configuration file, you may specify settings for all Ceph OSD Daemons in
the cluster by adding configuration settings to the <tt class="docutils literal"><span class="pre">[osd]</span></tt> section of your
configuration file. To add settings directly to a specific Ceph OSD Daemon
(e.g., <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">host</span></tt>), enter  it in an OSD-specific section of your configuration
file. For example:</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[osd]</span>
        <span class="na">osd journal size</span> <span class="o">=</span> <span class="s">1024</span>

<span class="k">[osd.0]</span>
        <span class="na">osd host</span> <span class="o">=</span> <span class="s">osd-host-a</span>

<span class="k">[osd.1]</span>
        <span class="na">osd host</span> <span class="o">=</span> <span class="s">osd-host-b</span>
</pre></div>
</div>
<div class="section" id="general-settings">
<span id="index-1"></span><h2>General Settings<a class="headerlink" href="#general-settings" title="Permalink to this headline">¶</a></h2>
<p>The following settings provide an Ceph OSD Daemon&#8217;s ID, and determine paths to
data and journals. Ceph deployment scripts typically generate the UUID
automatically. We <strong>DO NOT</strong> recommend changing the default paths for data or
journals, as it makes it more problematic to troubleshoot Ceph later.</p>
<p>The journal size should be at least twice the product of the expected drive
speed multiplied by <tt class="docutils literal"><span class="pre">filestore</span> <span class="pre">max</span> <span class="pre">sync</span> <span class="pre">interval</span></tt>. However, the most common
practice is to partition the journal drive (often an SSD), and mount it such
that Ceph uses the entire partition for the journal.</p>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">uuid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The universally unique identifier (UUID) for the Ceph OSD Daemon.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">UUID</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">The UUID.</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">The <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">uuid</span></tt> applies to a single Ceph OSD Daemon. The <tt class="docutils literal"><span class="pre">fsid</span></tt>
applies to the entire cluster.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">data</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The path to the OSDs data. You must create the directory when
deploying Ceph. You should mount a drive for OSD data at this
mount point. We do not recommend changing the default.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">/var/lib/ceph/osd/$cluster-$id</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">max</span> <span class="pre">write</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum size of a write in megabytes.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">90</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">client</span> <span class="pre">message</span> <span class="pre">size</span> <span class="pre">cap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The largest client data message allowed in memory.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">64-bit Integer Unsigned</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">500MB default. <tt class="docutils literal"><span class="pre">500*1024L*1024L</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">class</span> <span class="pre">dir</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The class path for RADOS class plug-ins.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">$libdir/rados-classes</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="file-system-settings">
<span id="index-2"></span><h2>File System Settings<a class="headerlink" href="#file-system-settings" title="Permalink to this headline">¶</a></h2>
<p>Ceph builds and mounts file systems which are used for Ceph OSDs.</p>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">mkfs</span> <span class="pre">options</span> <span class="pre">{fs-type}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Options used when creating a new Ceph OSD of type {fs-type}.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Default for xfs:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">-i</span> <span class="pre">2048</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Default for other file systems:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">{empty string}</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>For example::</dt>
<dd><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">mkfs</span> <span class="pre">options</span> <span class="pre">xfs</span> <span class="pre">=</span> <span class="pre">-f</span> <span class="pre">-d</span> <span class="pre">agcount=24</span></tt></dd>
</dl>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">mount</span> <span class="pre">options</span> <span class="pre">{fs-type}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Options used when mounting a Ceph OSD of type {fs-type}.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Default for xfs:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><tt class="docutils literal"><span class="pre">rw,noatime,inode64</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Default for other file systems:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><tt class="docutils literal"><span class="pre">rw,</span> <span class="pre">noatime</span></tt></td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>For example::</dt>
<dd><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">mount</span> <span class="pre">options</span> <span class="pre">xfs</span> <span class="pre">=</span> <span class="pre">rw,</span> <span class="pre">noatime,</span> <span class="pre">inode64,</span> <span class="pre">logbufs=8</span></tt></dd>
</dl>
</div>
<div class="section" id="journal-settings">
<span id="index-3"></span><h2>Journal Settings<a class="headerlink" href="#journal-settings" title="Permalink to this headline">¶</a></h2>
<p>By default, Ceph expects that you will store an Ceph OSD Daemons journal with
the  following path:</p>
<div class="highlight-python"><pre>/var/lib/ceph/osd/$cluster-$id/journal</pre>
</div>
<p>Without performance optimization, Ceph stores the journal on the same disk as
the Ceph OSD Daemons data. An Ceph OSD Daemon optimized for performance may use
a separate disk to store journal data (e.g., a solid state drive delivers high
performance journaling).</p>
<p>Ceph&#8217;s default <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">journal</span> <span class="pre">size</span></tt> is 0, so you will need to set this in your
<tt class="docutils literal"><span class="pre">ceph.conf</span></tt> file. A journal size should find the product of the <tt class="docutils literal"><span class="pre">filestore</span>
<span class="pre">max</span> <span class="pre">sync</span> <span class="pre">interval</span></tt> and the expected throughput, and multiply the product by
two (2):</p>
<div class="highlight-python"><pre>osd journal size = {2 * (expected throughput * filestore max sync interval)}</pre>
</div>
<p>The expected throughput number should include the expected disk throughput
(i.e., sustained data transfer rate), and network throughput. For example,
a 7200 RPM disk will likely have approximately 100 MB/s. Taking the <tt class="docutils literal"><span class="pre">min()</span></tt>
of the disk and network throughput should provide a reasonable expected
throughput. Some users just start off with a 10GB journal size. For
example:</p>
<div class="highlight-python"><pre>osd journal size = 10000</pre>
</div>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">journal</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The path to the OSD&#8217;s journal. This may be a path to a file or a
block device (such as a partition of an SSD). If it is a file,
you must create the directory to contain it. We recommend using a
drive separate from the <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">data</span></tt> drive.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">/var/lib/ceph/osd/$cluster-$id/journal</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">journal</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The size of the journal in megabytes. If this is 0, and the
journal is a block device, the entire block device is used.
Since v0.54, this is ignored if the journal is a block device,
and the entire block device is used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">5120</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Recommended:</th><td class="field-body">Begin with 1GB. Should be at least twice the product of the
expected speed multiplied by <tt class="docutils literal"><span class="pre">filestore</span> <span class="pre">max</span> <span class="pre">sync</span> <span class="pre">interval</span></tt>.</td>
</tr>
</tbody>
</table>
<p>See <a class="reference external" href="../journal-ref">Journal Config Reference</a> for additional details.</p>
</div>
<div class="section" id="monitor-osd-interaction">
<h2>Monitor OSD Interaction<a class="headerlink" href="#monitor-osd-interaction" title="Permalink to this headline">¶</a></h2>
<p>Ceph OSD Daemons check each other&#8217;s heartbeats and report to monitors
periodically. Ceph can use default values in many cases. However, if your
network  has latency issues, you may need to adopt longer intervals. See
<a class="reference external" href="../mon-osd-interaction">Configuring Monitor/OSD Interaction</a> for a detailed discussion of heartbeats.</p>
</div>
<div class="section" id="data-placement">
<h2>Data Placement<a class="headerlink" href="#data-placement" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="../pool-pg-config-ref">Pool &amp; PG Config Reference</a> for details.</p>
</div>
<div class="section" id="scrubbing">
<span id="index-4"></span><h2>Scrubbing<a class="headerlink" href="#scrubbing" title="Permalink to this headline">¶</a></h2>
<p>In addition to making multiple copies of objects, Ceph insures data integrity by
scrubbing placement groups. Ceph scrubbing is analogous to <tt class="docutils literal"><span class="pre">fsck</span></tt> on the
object storage layer. For each placement group, Ceph generates a catalog of all
objects and compares each primary object and its replicas to ensure that no
objects are missing or mismatched. Light scrubbing (daily) checks the object
size and attributes.  Deep scrubbing (weekly) reads the data and uses checksums
to ensure data integrity.</p>
<p>Scrubbing is important for maintaining data integrity, but it can reduce
performance. You can adjust the following settings to increase or decrease
scrubbing operations.</p>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">max</span> <span class="pre">scrubs</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of simultaneous scrub operations for
a Ceph OSD Daemon.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Int</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">scrub</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time in seconds before timing out a scrub thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">60</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">scrub</span> <span class="pre">finalize</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time in seconds before timing out a scrub finalize
thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">60*10</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">scrub</span> <span class="pre">load</span> <span class="pre">threshold</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum load. Ceph will not scrub when the system load
(as defined by <tt class="docutils literal"><span class="pre">getloadavg()</span></tt>) is higher than this number.
Default is <tt class="docutils literal"><span class="pre">0.5</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0.5</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">scrub</span> <span class="pre">min</span> <span class="pre">interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum interval in seconds for scrubbing the Ceph OSD Daemon
when the Ceph Storage Cluster load is low.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">Once per day. <tt class="docutils literal"><span class="pre">60*60*24</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">scrub</span> <span class="pre">max</span> <span class="pre">interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum interval in seconds for scrubbing the Ceph OSD Daemon
irrespective of cluster load.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">Once per week. <tt class="docutils literal"><span class="pre">7*60*60*24</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">deep</span> <span class="pre">scrub</span> <span class="pre">interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The interval for &#8220;deep&#8221; scrubbing (fully reading all data). The
<tt class="docutils literal"><span class="pre">osd</span> <span class="pre">scrub</span> <span class="pre">load</span> <span class="pre">threshold</span></tt> does not affect this setting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">Once per week.  <tt class="docutils literal"><span class="pre">60*60*24*7</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">deep</span> <span class="pre">scrub</span> <span class="pre">stride</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Read size when doing a deep scrub.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">512 KB. <tt class="docutils literal"><span class="pre">524288</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="operations">
<span id="index-5"></span><h2>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h2>
<p>Operations settings allow you to configure the number of threads for servicing
requests. If you set <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">op</span> <span class="pre">threads</span></tt> to <tt class="docutils literal"><span class="pre">0</span></tt>, it disables multi-threading.
By default, Ceph  uses two threads with a 30 second timeout and a 30 second
complaint time if an operation doesn&#8217;t complete within those time parameters.
You can set operations priority weights between client operations and
recovery operations to ensure optimal performance during recovery.</p>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">op</span> <span class="pre">threads</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of threads to service Ceph OSD Daemon operations.
Set to <tt class="docutils literal"><span class="pre">0</span></tt> to disable it. Increasing the number may increase
the request processing rate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">2</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">client</span> <span class="pre">op</span> <span class="pre">priority</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The priority set for client operations. It is relative to
<tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recovery</span> <span class="pre">op</span> <span class="pre">priority</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">63</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Valid Range:</th><td class="field-body">1-63</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recovery</span> <span class="pre">op</span> <span class="pre">priority</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The priority set for recovery operations. It is relative to
<tt class="docutils literal"><span class="pre">osd</span> <span class="pre">client</span> <span class="pre">op</span> <span class="pre">priority</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">10</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Valid Range:</th><td class="field-body">1-63</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">op</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The Ceph OSD Daemon operation thread timeout in seconds.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">op</span> <span class="pre">complaint</span> <span class="pre">time</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">An operation becomes complaint worthy after the specified number
of seconds have elapsed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">disk</span> <span class="pre">threads</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of disk threads, which are used to perform background
disk intensive OSD operations such as scrubbing and snap
trimming.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">disk</span> <span class="pre">thread</span> <span class="pre">ioprio</span> <span class="pre">class</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Warning: it will only be used if both <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">disk</span> <span class="pre">thread</span>
<span class="pre">ioprio</span> <span class="pre">class</span></tt> and <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">disk</span> <span class="pre">thread</span> <span class="pre">ioprio</span> <span class="pre">priority</span></tt> are
set to a non default value.  Sets the ioprio_set(2) I/O
scheduling <tt class="docutils literal"><span class="pre">class</span></tt> for the disk thread. Acceptable
values are <tt class="docutils literal"><span class="pre">idle</span></tt>, <tt class="docutils literal"><span class="pre">be</span></tt> or <tt class="docutils literal"><span class="pre">rt</span></tt>. The <tt class="docutils literal"><span class="pre">idle</span></tt>
class means the disk thread will have lower priority
than any other thread in the OSD. This is useful to slow
down scrubbing on an OSD that is busy handling client
operations. <tt class="docutils literal"><span class="pre">be</span></tt> is the default and is the same
priority as all other threads in the OSD. <tt class="docutils literal"><span class="pre">rt</span></tt> means
the disk thread will have precendence over all other
threads in the OSD. This is useful if scrubbing is much
needed and must make progress at the expense of client
operations. Note: Only works with the Linux Kernel CFQ
scheduler.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">the empty string</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">disk</span> <span class="pre">thread</span> <span class="pre">ioprio</span> <span class="pre">priority</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Warning: it will only be used if both <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">disk</span> <span class="pre">thread</span>
<span class="pre">ioprio</span> <span class="pre">class</span></tt> and <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">disk</span> <span class="pre">thread</span> <span class="pre">ioprio</span> <span class="pre">priority</span></tt> are
set to a non default value. It sets the ioprio_set(2)
I/O scheduling <tt class="docutils literal"><span class="pre">priority</span></tt> of the disk thread ranging
from 0 (highest) to 7 (lowest). If all OSDs on a given
host were in class <tt class="docutils literal"><span class="pre">idle</span></tt> and compete for I/O
(i.e. due to controller congestion), it can be used to
lower the disk thread priority of one OSD to 7 so that
another OSD with priority 0 can potentially scrub
faster. Note: Only works with the Linux Kernel CFQ
scheduler.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer in the range of 0 to 7 or -1 if not to be used.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">-1</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">op</span> <span class="pre">history</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of completed operations to track.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Unsigned Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">20</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">op</span> <span class="pre">history</span> <span class="pre">duration</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The oldest completed operation to track.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Unsigned Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">600</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">op</span> <span class="pre">log</span> <span class="pre">threshold</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">How many operations logs to display at once.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">5</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="backfilling">
<span id="index-6"></span><h2>Backfilling<a class="headerlink" href="#backfilling" title="Permalink to this headline">¶</a></h2>
<p>When you add or remove Ceph OSD Daemons to a cluster, the CRUSH algorithm will
want to rebalance the cluster by moving placement groups to or from Ceph OSD
Daemons to restore the balance. The process of migrating placement groups and
the objects they contain can reduce the cluster&#8217;s operational performance
considerably. To maintain operational performance, Ceph performs this migration
with &#8216;backfilling&#8217;, which allows Ceph to set backfill operations to a lower
priority than requests to read or write data.</p>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">max</span> <span class="pre">backfills</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of backfills allowed to or from a single OSD.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">64-bit Unsigned Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">10</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">backfill</span> <span class="pre">scan</span> <span class="pre">min</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The minimum number of objects per backfill scan.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">64</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">backfill</span> <span class="pre">scan</span> <span class="pre">max</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of objects per backfill scan.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">512</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">backfill</span> <span class="pre">full</span> <span class="pre">ratio</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Refuse to accept backfill requests when the Ceph OSD Daemon&#8217;s
full ratio is above this value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0.85</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">backfill</span> <span class="pre">retry</span> <span class="pre">interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of seconds to wait before retrying backfill requests.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">10.0</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osd-map">
<span id="index-7"></span><h2>OSD Map<a class="headerlink" href="#osd-map" title="Permalink to this headline">¶</a></h2>
<p>OSD maps reflect the OSD daemons operating in the cluster. Over time, the
number of map epochs increases. Ceph provides some settings to ensure that
Ceph performs well as the OSD map grows larger.</p>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">map</span> <span class="pre">dedup</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enable removing duplicates in the OSD map.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">map</span> <span class="pre">cache</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of OSD maps to keep cached.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">500</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">map</span> <span class="pre">cache</span> <span class="pre">bl</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The size of the in-memory OSD map cache in OSD daemons.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">50</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">map</span> <span class="pre">cache</span> <span class="pre">bl</span> <span class="pre">inc</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The size of the in-memory OSD map cache incrementals in
OSD daemons.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">100</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">map</span> <span class="pre">message</span> <span class="pre">max</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum map entries allowed per MOSDMap message.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">100</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="recovery">
<span id="index-8"></span><h2>Recovery<a class="headerlink" href="#recovery" title="Permalink to this headline">¶</a></h2>
<p>When the cluster starts or when a Ceph OSD Daemon crashes and restarts, the OSD
begins peering with other Ceph OSD Daemons before writes can occur.  See
<a class="reference external" href="../../operations/monitoring-osd-pg#peering">Monitoring OSDs and PGs</a> for details.</p>
<p>If a Ceph OSD Daemon crashes and comes back online, usually it will be out of
sync with other Ceph OSD Daemons containing more recent versions of objects in
the placement groups. When this happens, the Ceph OSD Daemon goes into recovery
mode and seeks to get the latest copy of the data and bring its map back up to
date. Depending upon how long the Ceph OSD Daemon was down, the OSD&#8217;s objects
and placement groups may be significantly out of date. Also, if a failure domain
went down (e.g., a rack), more than one Ceph OSD Daemon may come back online at
the same time. This can make the recovery process time consuming and resource
intensive.</p>
<p>To maintain operational performance, Ceph performs recovery with limitations on
the number recovery requests, threads and object chunk sizes which allows Ceph
perform well in a degraded state.</p>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recovery</span> <span class="pre">delay</span> <span class="pre">start</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">After peering completes, Ceph will delay for the specified number
of seconds before starting to recover objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recovery</span> <span class="pre">max</span> <span class="pre">active</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of active recovery requests per OSD at one time. More
requests will accelerate recovery, but the requests places an
increased load on the cluster.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">15</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recovery</span> <span class="pre">max</span> <span class="pre">chunk</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum size of a recovered chunk of data to push.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">64-bit Integer Unsigned</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">8</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recovery</span> <span class="pre">threads</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of threads for recovering data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recovery</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time in seconds before timing out a recovery thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">recover</span> <span class="pre">clone</span> <span class="pre">overlap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Preserves clone overlap during recovery. Should always be set
to <tt class="docutils literal"><span class="pre">true</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">snap</span> <span class="pre">trim</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time in seconds before timing out a snap trim thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">60*60*1</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">backlog</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time in seconds before timing out a backlog thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">60*60*1</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">default</span> <span class="pre">notify</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The OSD default notification timeout (in seconds).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer Unsigned</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">check</span> <span class="pre">for</span> <span class="pre">log</span> <span class="pre">corruption</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Check log files for corruption. Can be computationally expensive.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">remove</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time in seconds before timing out a remove OSD thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">60*60</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">command</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time in seconds before timing out a command thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">10*60</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">command</span> <span class="pre">max</span> <span class="pre">records</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Limits the number of lost objects to return.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">32-bit Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">256</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">auto</span> <span class="pre">upgrade</span> <span class="pre">tmap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Uses <tt class="docutils literal"><span class="pre">tmap</span></tt> for <tt class="docutils literal"><span class="pre">omap</span></tt> on old objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">tmapput</span> <span class="pre">sets</span> <span class="pre">users</span> <span class="pre">tmap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Uses <tt class="docutils literal"><span class="pre">tmap</span></tt> for debugging only.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">osd</span> <span class="pre">preserve</span> <span class="pre">trimmed</span> <span class="pre">log</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Preserves trimmed log files, but uses more disk space.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../../">
              <img class="logo" src="../../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../../">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../install/">安装（手动）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../releases/">发布时间表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary/">Ceph 术语</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>